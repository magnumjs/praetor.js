!function e(t,r,n){function o(a,i){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!i&&c)return c(a,!0);if(s)return s(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({"./src/scripts/app.js":[function(e){function t(e,t){var r=(t||{}).style,i=[{text:"Simple Demo",type:n},{text:"API::Create Stores",type:o},{text:"API::Create Queries",type:a},{text:"Dashboard Card Demo",type:s}];return e.onchange=function(){e.type=i[e.id()].type},"select"==r?m("select.silver",{onchange:function(){e.id(this.selectedIndex),e.type=i[e.id()].type}},[i.map(function(e,t){return m("option",{value:t,innerHTML:e.text})})]):[m("ol",i.map(function(t,r){return m("li",{key:r},m("a.action",{onclick:function(t){e.type=t,e.id(r)}.bind(this,t.type)},t.text))}))]}m=e("mithril"),modal=e("./components/modal"),main=e("./main");var r=main.persist,n=main.demo,o=main.store,s=main.dash,a=main.query,i={};i.controller=function(){r.init(),this.id=m.prop(0),this.welcomeMessage=m(".content",[m(".panel","Welcome to the PraetorJS administration editor demo page!",[m("p","We will walk through some simple examples to demonstrate the way you can create and recall procedures"),m("p","Check out the tools in the menu to the left."),m('a[href="http://goessner.net/articles/JsonPath/"]',"JSONPath reference to create queries.")])])},i.view=function(e){return m(".container",[m(".nav",[m(".welcome",[m("h1","Praetor Admin Editor"),m("h3",{title:"reference procs to manipulate data in pre-determined ways"},"JSON Path Stored Procedures"),t(e,{style:"select"}),m("button.silver",{onclick:e.onchange},"Go"),m('a[href="https://github.com/magnumjs/praetor.js"]',"PraetorJS gitHub")])]),e.type?m("p.content",{key:e.id()},e.type()):e.welcomeMessage])},m.module(document.body,i)},{"./components/modal":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/modal.js","./main":"/Users/mglazer/Documents/code/praetor.js/src/scripts/main.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/node_modules/browserify/node_modules/vm-browserify/index.js":[function(require,module,exports){function Context(){}var indexOf=require("indexof"),Object_keys=function(e){if(Object.keys)return Object.keys(e);var t=[];for(var r in e)t.push(r);return t},forEach=function(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++)t(e[r],r,e)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(e,t,r){Object.defineProperty(e,t,{writable:!0,enumerable:!1,configurable:!0,value:r})}}catch(e){return function(e,t,r){e[t]=r}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(e){return this instanceof Script?(this.code=e,void 0):new Script(e)};Script.prototype.runInContext=function(e){if(!(e instanceof Context))throw new TypeError("needs a 'context' argument.");var t=document.createElement("iframe");t.style||(t.style={}),t.style.display="none",document.body.appendChild(t);var r=t.contentWindow,n=r.eval,o=r.execScript;!n&&o&&(o.call(r,"null"),n=r.eval),forEach(Object_keys(e),function(t){r[t]=e[t]}),forEach(globals,function(t){e[t]&&(r[t]=e[t])});var s=Object_keys(r),a=n.call(r,this.code);return forEach(Object_keys(r),function(t){(t in e||-1===indexOf(s,t))&&(e[t]=r[t])}),forEach(globals,function(t){t in e||defineProp(e,t,r[t])}),document.body.removeChild(t),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(e){var t=Script.createContext(e),r=this.runInContext(t);return forEach(Object_keys(t),function(r){e[r]=t[r]}),r},forEach(Object_keys(Script.prototype),function(e){exports[e]=Script[e]=function(t){var r=Script(t);return r[e].apply(r,[].slice.call(arguments,1))}}),exports.createScript=function(e){return exports.Script(e)},exports.createContext=Script.createContext=function(e){var t=new Context;return"object"==typeof e&&forEach(Object_keys(e),function(r){t[r]=e[r]}),t}},{indexof:"/Users/mglazer/Documents/code/praetor.js/node_modules/browserify/node_modules/vm-browserify/node_modules/indexof/index.js"}],"/Users/mglazer/Documents/code/praetor.js/node_modules/browserify/node_modules/vm-browserify/node_modules/indexof/index.js":[function(e,t){var r=[].indexOf;t.exports=function(e,t){if(r)return e.indexOf(t);for(var n=0;n<e.length;++n)if(e[n]===t)return n;return-1}},{}],"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js":[function(e,t){var r=function n(e,t){function r(e){E=e.document,U=e.location,_=e.cancelAnimationFrame||e.clearTimeout,C=e.requestAnimationFrame||e.setTimeout}function o(){var e,t=[].slice.call(arguments),r=!(null==t[1]||A.call(t[1])!==P||"tag"in t[1]||"view"in t[1]||"subtree"in t[1]),n=r?t[1]:{},o="class"in n?"class":"className",s={tag:"div",attrs:{}},a=[];if(A.call(t[0])!=z)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=I.exec(t[0]);)if(""===e[1]&&e[2])s.tag=e[2];else if("#"===e[1])s.attrs.id=e[2];else if("."===e[1])a.push(e[2]);else if("["===e[3][0]){var i=R.exec(e[3]);s.attrs[i[1]]=i[3]||(i[2]?"":!0)}a.length>0&&(s.attrs[o]=a.join(" "));var c=r?t.slice(2):t.slice(1);s.children=1===c.length&&A.call(c[0])===T?c[0]:c;for(var l in n)l===o?""!==n[l]&&(s.attrs[l]=(s.attrs[l]||"")+" "+n[l]):s.attrs[l]=n[l];return s}function s(e,r,n,l,d,m,p,f,h,g,v){try{(null==d||null==d.toString())&&(d="")}catch(y){d=""}if("retain"===d.subtree)return m;var b=A.call(m),j=A.call(d);if(null==m||b!==j){if(null!=m)if(n&&n.nodes){var w=f-l,x=w+(j===T?d:m.nodes).length;c(n.nodes.slice(w,x),n.slice(w,x))}else m.nodes&&c(m.nodes,m);m=new d.constructor,m.tag&&(m={}),m.nodes=[]}if(j===T){for(var S=0,N=d.length;N>S;S++)A.call(d[S])===T&&(d=d.concat.apply([],d),S--,N=d.length);for(var O=[],D=m.length===d.length,k=0,J=1,U=2,C=3,_={},I=[],R=!1,S=0;S<m.length;S++)m[S]&&m[S].attrs&&null!=m[S].attrs.key&&(R=!0,_[m[S].attrs.key]={action:J,index:S});if(R){d.indexOf(null)>-1&&(d=d.filter(function(e){return null!=e}));var $=!1;if(d.length!=m.length)$=!0;else for(var L,F,S=0;L=m[S],F=d[S];S++)if(L.attrs&&F.attrs&&L.attrs.key!=F.attrs.key){$=!0;break}if($){for(var S=0,N=d.length;N>S;S++)if(d[S]&&d[S].attrs)if(null!=d[S].attrs.key){var B=d[S].attrs.key;_[B]=_[B]?{action:C,index:S,from:_[B].index,element:m.nodes[_[B].index]||E.createElement("div")}:{action:U,index:S}}else I.push({index:S,element:e.childNodes[S]||E.createElement("div")});var H=[];for(var Q in _)H.push(_[Q]);for(var G,K=H.sort(a),W=new Array(m.length),S=0;G=K[S];S++){if(G.action===J&&(c(m[G.index].nodes,m[G.index]),W.splice(G.index,1)),G.action===U){var V=E.createElement("div");V.key=d[G.index].attrs.key,e.insertBefore(V,e.childNodes[G.index]||null),W.splice(G.index,0,{attrs:{key:d[G.index].attrs.key},nodes:[V]})}G.action===C&&(e.childNodes[G.index]!==G.element&&null!==G.element&&e.insertBefore(G.element,e.childNodes[G.index]||null),W[G.index]=m[G.from])}for(var S=0,N=I.length;N>S;S++){var G=I[S];e.insertBefore(G.element,e.childNodes[G.index]||null),W[G.index]=m[G.index]}m=W,m.nodes=new Array(e.childNodes.length);for(var Y,S=0;Y=e.childNodes[S];S++)m.nodes[S]=Y}}for(var S=0,Z=0,N=d.length;N>S;S++){var et=s(e,r,m,f,d[S],m[Z],p,f+k||k,h,g,v);et!==t&&(et.nodes.intact||(D=!1),k+=et.$trusted?(et.match(/<[^\/]|\>\s*[^<]|&/g)||[]).length:A.call(et)===T?et.length:1,m[Z++]=et)}if(!D){for(var S=0,N=d.length;N>S;S++)null!=m[S]&&O.push.apply(O,m[S].nodes);for(var tt,S=0;tt=m.nodes[S];S++)null!=tt.parentNode&&O.indexOf(tt)<0&&c([tt],[m[S]]);d.length<m.length&&(m.length=d.length),m.nodes=O}}else if(null!=d&&j===P){if(d.view){var nt,ot=d,st=m.controller||new(ot.controller||function(){});if(d=0==rt?ot.view(st):{tag:"placeholder"},st.onunload&&X.push({controller:st,handler:st.onunload}),!d.tag)throw new Error("Component template must return a virtual element, not an array, string, etc.")}d.attrs||(d.attrs={}),m.attrs||(m.attrs={});var at=Object.keys(d.attrs),it=at.length>("key"in d.attrs?1:0);if((d.tag!=m.tag||at.join()!=Object.keys(m.attrs).join()||d.attrs.id!=m.attrs.id||d.attrs.key!=m.attrs.key||"all"==o.redraw.strategy()&&m.configContext&&m.configContext.retain!==!0||"diff"==o.redraw.strategy()&&m.configContext&&m.configContext.retain===!1)&&(m.nodes.length&&c(m.nodes),m.configContext&&typeof m.configContext.onunload===q&&m.configContext.onunload(),m.controller&&typeof m.controller.onunload===q&&m.controller.onunload({preventDefault:function(){}})),A.call(d.tag)!=z)return;var tt,ct=0===m.nodes.length;if(d.attrs.xmlns?g=d.attrs.xmlns:"svg"===d.tag?g="http://www.w3.org/2000/svg":"math"===d.tag&&(g="http://www.w3.org/1998/Math/MathML"),ct){if(tt=d.attrs.is?g===t?E.createElement(d.tag,d.attrs.is):E.createElementNS(g,d.tag,d.attrs.is):g===t?E.createElement(d.tag):E.createElementNS(g,d.tag),m={tag:d.tag,attrs:it?i(tt,d.tag,d.attrs,{},g):d.attrs,children:null!=d.children&&d.children.length>0?s(tt,d.tag,t,t,d.children,m.children,!0,0,d.attrs.contenteditable?tt:h,g,v):d.children,nodes:[tt]},st&&(m.controller=st,st.onunload&&st.onunload.$old&&(st.onunload=st.onunload.$old),rt&&st.onunload)){var nt=st.onunload;st.onunload=function(){},st.onunload.$old=nt}m.children&&!m.children.nodes&&(m.children.nodes=[]),"select"===d.tag&&d.attrs.value&&i(tt,d.tag,{value:d.attrs.value},{},g),e.insertBefore(tt,e.childNodes[f]||null)}else tt=m.nodes[0],it&&i(tt,d.tag,d.attrs,m.attrs,g),m.children=s(tt,d.tag,t,t,d.children,m.children,!1,0,d.attrs.contenteditable?tt:h,g,v),m.nodes.intact=!0,p===!0&&null!=tt&&e.insertBefore(tt,e.childNodes[f]||null);if(typeof d.attrs.config===q){var lt=m.configContext=m.configContext||{retain:"diff"==o.redraw.strategy()},ut=function(e,t){return function(){return e.attrs.config.apply(e,t)}};v.push(ut(d,[tt,!ct,lt,m]))}}else if(typeof j!=q){var O;0===m.nodes.length?(d.$trusted?O=u(e,f,d):(O=[E.createTextNode(d)],e.nodeName.match(M)||e.insertBefore(O[0],e.childNodes[f]||null)),m="string number boolean".indexOf(typeof d)>-1?new d.constructor(d):d,m.nodes=O):m.valueOf()!==d.valueOf()||p===!0?(O=m.nodes,h&&h===E.activeElement||(d.$trusted?(c(O,m),O=u(e,f,d)):"textarea"===r?e.value=d:h?h.innerHTML=d:((1===O[0].nodeType||O.length>1)&&(c(m.nodes,m),O=[E.createTextNode(d)]),e.insertBefore(O[0],e.childNodes[f]||null),O[0].nodeValue=d)),m=new d.constructor(d),m.nodes=O):m.nodes.intact=!0}return m}function a(e,t){return e.action-t.action||e.index-t.index}function i(e,t,r,n,o){for(var s in r){var a=r[s],i=n[s];if(s in n&&i===a)"value"===s&&"input"===t&&e.value!=a&&(e.value=a);else{n[s]=a;try{if("config"===s||"key"==s)continue;if(typeof a===q&&0===s.indexOf("on"))e[s]=d(a,e);else if("style"===s&&null!=a&&A.call(a)===P){for(var c in a)(null==i||i[c]!==a[c])&&(e.style[c]=a[c]);for(var c in i)c in a||(e.style[c]="")}else null!=o?"href"===s?e.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===s?e.setAttribute("class",a):e.setAttribute(s,a):s in e&&"list"!==s&&"style"!==s&&"form"!==s&&"type"!==s?("input"!==t||e[s]!==a)&&(e[s]=a):e.setAttribute(s,a)}catch(l){if(l.message.indexOf("Invalid argument")<0)throw l}}}return n}function c(e,t){for(var r=e.length-1;r>-1;r--)if(e[r]&&e[r].parentNode){try{e[r].parentNode.removeChild(e[r])}catch(n){}t=[].concat(t),t[r]&&l(t[r])}0!=e.length&&(e.length=0)}function l(e){if(e.configContext&&typeof e.configContext.onunload===q&&(e.configContext.onunload(),e.configContext.onunload=null),e.controller&&typeof e.controller.onunload===q&&e.controller.onunload({preventDefault:function(){}}),e.children)if(A.call(e.children)===T)for(var t,r=0;t=e.children[r];r++)l(t);else e.children.tag&&l(e.children)}function u(e,t,r){var n=e.childNodes[t];if(n){var o=1!=n.nodeType,s=E.createElement("span");o?(e.insertBefore(s,n||null),s.insertAdjacentHTML("beforebegin",r),e.removeChild(s)):n.insertAdjacentHTML("beforebegin",r)}else e.insertAdjacentHTML("beforeend",r);for(var a=[];e.childNodes[t]!==n;)a.push(e.childNodes[t]),t++;return a}function d(e,t){return function(r){r=r||event,o.redraw.strategy("diff"),o.startComputation();try{return e.call(t,r)}finally{nt()}}}function m(e){var t=F.indexOf(e);return 0>t?F.push(e)-1:t}function p(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function f(e,t){var r=function(){return(e.controller||function(){}).apply(this,t)||this},n=function(r){arguments.length>1&&(t=t.concat([].slice.call(arguments,1)));var n=e.view.apply(e,t?[r].concat(t):[r]);return t[0]&&null!=t[0].key&&(n.attrs.key=t[0].key),n},o={controller:r,view:n};return t[0]&&null!=t[0].key&&(o.attrs={key:t[0].key}),o}function h(){for(var e,t=0;e=Q[t];t++)if(K[t]){var r=G[t].controller&&G[t].controller.$$args?[K[t]].concat(G[t].controller.$$args):[K[t]];o.render(e,G[t].view?G[t].view(K[t],r):tt())}Y&&(Y(),Y=null),W=null,V=new Date,o.redraw.strategy("diff")}function g(e){return e.slice(at[o.route.mode].length)}function v(e,t,r){ot={};var n=r.indexOf("?");-1!==n&&(ot=w(r.substr(n+1,r.length)),r=r.substr(0,n));var s=Object.keys(t),a=s.indexOf(r);if(-1!==a)return o.module(e,t[s[a]]),!0;for(var i in t){if(i===r)return o.module(e,t[i]),!0;var c=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(c.test(r))return r.replace(c,function(){for(var r=i.match(/:[^\/]+/g)||[],n=[].slice.call(arguments,1,-2),s=0,a=r.length;a>s;s++)ot[r[s].replace(/:|\./g,"")]=decodeURIComponent(n[s]);o.module(e,t[i])}),!0}}function y(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=e.currentTarget||e.srcElement,r="pathname"===o.route.mode&&t.search?w(t.search.slice(1)):{};t&&"A"!=t.nodeName.toUpperCase();)t=t.parentNode;o.route(t[o.route.mode].slice(at[o.route.mode].length),r)}}function b(){"hash"!=o.route.mode&&U.hash?U.hash=U.hash:e.scrollTo(0,0)}function j(e,t){var r=[];for(var n in e){var o=t?t+"["+n+"]":n,s=e[n],a=A.call(s),i=null!=s&&a===P?j(s,o):a===T?s.map(function(e){return encodeURIComponent(o+"[]")+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(o)+"="+encodeURIComponent(s);r.push(i)}return r.join("&")}function w(e){for(var t=e.split("&"),r={},n=0,o=t.length;o>n;n++){var s=t[n].split("=");r[decodeURIComponent(s[0])]=s[1]?decodeURIComponent(s[1]):""}return r}function x(e){var r=m(e);c(e.childNodes,B[r]),B[r]=t}function S(e){var t=o.prop();return e.then(t),t.then=function(r,n){return e=e.then(r,n).then(t),t},t}function N(e,t){function r(e){d=e||l,p.map(function(e){d===c&&e.resolve(m)||e.reject(m)})}function n(e,t,r,n){if((null!=m&&A.call(m)===P||typeof m===q)&&typeof e===q)try{var s=0;e.call(m,function(e){s++||(m=e,t())},function(e){s++||(m=e,r())})}catch(a){o.deferred.onerror(a),m=a,r()}else n()}function s(){var l;try{l=m&&m.then}catch(p){return o.deferred.onerror(p),m=p,d=i,s()}n(l,function(){d=a,s()},function(){d=i,s()},function(){try{d===a&&typeof e===q?m=e(m):d===i&&"function"==typeof t&&(m=t(m),d=a)}catch(s){return o.deferred.onerror(s),m=s,r()}m===u?(m=TypeError(),r()):n(l,function(){r(c)},r,function(){r(d===a&&c)})})}var a=1,i=2,c=3,l=4,u=this,d=0,m=0,p=[];u.promise={},u.resolve=function(e){return d||(m=e,d=a,s()),this},u.reject=function(e){return d||(m=e,d=i,s()),this},u.promise.then=function(e,t){var r=new N(e,t);return d===c?r.resolve(m):d===l?r.reject(m):p.push(r),r.promise}}function O(e){return e}function D(r){if(!r.dataType||"jsonp"!==r.dataType.toLowerCase()){var n=new e.XMLHttpRequest;if(n.open(r.method,r.url,!0,r.user,r.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?r.onload({type:"load",target:n}):r.onerror({type:"error",target:n}))},r.serialize===JSON.stringify&&r.data&&"GET"!==r.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.deserialize===JSON.parse&&n.setRequestHeader("Accept","application/json, text/*"),typeof r.config===q){var o=r.config(n,r);null!=o&&(n=o)}var s="GET"!==r.method&&r.data?r.data:"";if(s&&A.call(s)!=z&&s.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return n.send(s),n}var a="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=E.createElement("script");e[a]=function(n){i.parentNode.removeChild(i),r.onload({type:"load",target:{responseText:n}}),e[a]=t},i.onerror=function(){return i.parentNode.removeChild(i),r.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[a]=t,!1},i.onload=function(){return!1},i.src=r.url+(r.url.indexOf("?")>0?"&":"?")+(r.callbackKey?r.callbackKey:"callback")+"="+a+"&"+j(r.data||{}),E.body.appendChild(i)}function k(e,t,r){if("GET"===e.method&&"jsonp"!=e.dataType){var n=e.url.indexOf("?")<0?"?":"&",o=j(t);e.url=e.url+(o?n+o:"")}else e.data=r(t);return e}function J(e,t){var r=e.match(/:[a-z]\w+/gi);if(r&&t)for(var n=0;n<r.length;n++){var o=r[n].slice(1);e=e.replace(r[n],t[o]),delete t[o]}return e}var E,U,C,_,P="[object Object]",T="[object Array]",z="[object String]",q="function",A={}.toString,I=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,R=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,M=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;r(e);var $,L={appendChild:function(e){$===t&&($=E.createElement("html")),E.documentElement&&E.documentElement!==e?E.replaceChild(e,E.documentElement):E.appendChild(e),this.childNodes=E.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},F=[],B={};o.render=function(e,r,n){var o=[];if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var a=m(e),i=e===E,l=i||e===E.documentElement?L:e;i&&"html"!=r.tag&&(r={tag:"html",attrs:{},children:r}),B[a]===t&&c(l.childNodes),n===!0&&x(e),B[a]=s(l,null,t,t,r,B[a],!1,0,null,t,o);for(var u=0,d=o.length;d>u;u++)o[u]()},o.trust=function(e){return e=new String(e),e.$trusted=!0,e},o.prop=function(e){return(null!=e&&A.call(e)===P||typeof e===q)&&typeof e.then===q?S(e):p(e)};var H,Q=[],G=[],K=[],W=null,V=0,Y=null,X=[],Z=16;o.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");if(e.view)return f(e,[].slice.call(arguments,1));var r=Q.indexOf(e);0>r&&(r=Q.length);for(var n,s=!1,a={preventDefault:function(){s=!0}},i=0;n=X[i];i++)n.handler(a),n.controller.onunload=null;if(s)for(var n,i=0;n=X[i];i++)n.controller.onunload=n.handler;else X=[];if(K[r]&&typeof K[r].onunload===q&&K[r].onunload(a),!s){o.redraw.strategy("all"),o.startComputation(),Q[r]=e,arguments.length>2&&(t=f(t,[].slice.call(arguments,2)));var c=H=t=t||{},l=t.controller||function(){},u=new l;return c===H&&(K[r]=u,G[r]=t),nt(),K[r]}};var et=!1;o.redraw=function(t){et||(et=!0,W&&t!==!0?(new Date-V>Z||C===e.requestAnimationFrame)&&(W>0&&_(W),W=C(h,Z)):(h(),W=C(function(){W=null},Z)),et=!1)},o.redraw.strategy=o.prop();var tt=function(){return""},rt=0;o.startComputation=function(){rt++},o.endComputation=function(){rt=Math.max(rt-1,0),0===rt&&o.redraw()};var nt=function(){"none"==o.redraw.strategy()?(rt--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(e,t){return function(r){r=r||event;var n=r.currentTarget||this;t(e in n?n[e]:n.getAttribute(e))}};var ot,st,at={pathname:"",hash:"#",search:"?"},it=function(){};return o.route=function(){if(0===arguments.length)return st;if(3===arguments.length&&A.call(arguments[1])===z){var t=arguments[0],r=arguments[1],n=arguments[2];it=function(e){var s=st=g(e);v(t,n,s)||o.route(r,!0)};var s="hash"===o.route.mode?"onhashchange":"onpopstate";e[s]=function(){var e=U[o.route.mode];"pathname"===o.route.mode&&(e+=U.search),st!=g(e)&&it(e)},Y=b,e[s]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){{var a=arguments[0];arguments[1],arguments[2]}a.href=("pathname"!==o.route.mode?U.pathname:"")+at[o.route.mode]+this.attrs.href,a.addEventListener?(a.removeEventListener("click",y),a.addEventListener("click",y)):(a.detachEvent("onclick",y),a.attachEvent("onclick",y))}else if(A.call(arguments[0])===z){var i=st;st=arguments[0];var c=arguments[1]||{},l=st.indexOf("?"),u=l>-1?w(st.slice(l+1)):{};for(var d in c)u[d]=c[d];var m=j(u),p=l>-1?st.slice(0,l):st;m&&(st=p+(-1===p.indexOf("?")?"?":"&")+m);var f=(3===arguments.length?arguments[2]:arguments[1])===!0||i===arguments[0];e.history.pushState?(Y=function(){e.history[f?"replaceState":"pushState"](null,E.title,at[o.route.mode]+st),b()},it(at[o.route.mode]+st)):(U[o.route.mode]=st,it(at[o.route.mode]+st))}},o.route.param=function(e){if(!ot)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return ot[e]},o.route.mode="search",o.deferred=function(){var e=new N;return e.promise=S(e.promise),e},o.deferred.onerror=function(e){if("[object Error]"===A.call(e)&&!e.constructor.toString().match(/ Error/))throw e},o.sync=function(e){function t(e,t){return function(o){return a[e]=o,t||(r="reject"),0===--s&&(n.promise(a),n[r](a)),o}}var r="resolve",n=o.deferred(),s=e.length,a=new Array(s);if(e.length>0)for(var i=0;i<e.length;i++)e[i].then(t(i,!0),t(i,!1));else n.resolve([]);return n.promise},o.request=function(e){e.background!==!0&&o.startComputation();var t=o.deferred(),r=e.dataType&&"jsonp"===e.dataType.toLowerCase(),n=e.serialize=r?O:e.serialize||JSON.stringify,s=e.deserialize=r?O:e.deserialize||JSON.parse,a=e.extract||function(e){return 0===e.responseText.length&&s===JSON.parse?null:e.responseText};return e.url=J(e.url,e.data),e=k(e,e.data,n),e.onload=e.onerror=function(r){try{r=r||event;var n=("load"===r.type?e.unwrapSuccess:e.unwrapError)||O,i=n(s(a(r.target,e)),r.target);if("load"===r.type)if(A.call(i)===T&&e.type)for(var c=0;c<i.length;c++)i[c]=new e.type(i[c]);else e.type&&(i=new e.type(i));t["load"===r.type?"resolve":"reject"](i)}catch(r){o.deferred.onerror(r),t.reject(r)}e.background!==!0&&o.endComputation()},D(e),t.promise(e.initialValue),t.promise},o.deps=function(t){return r(e=t||e),e},o.deps.factory=n,o}("undefined"!=typeof window?window:{});"undefined"!=typeof t&&null!==t&&t.exports?t.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})},{}],"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/node_modules/JSONPath/lib/jsonpath.js":[function(require,module,exports){!function(require){"use strict";function push(e,t){return e=e.slice(),e.push(t),e}function unshift(e,t){return t=t.slice(),t.unshift(e),t}function JSONPath(e,t,r){if(!(this instanceof JSONPath))try{return new JSONPath(e,t,r)}catch(n){if(!n.avoidNew)throw n;return n.value}e=e||{};var o=e.hasOwnProperty("json")&&e.hasOwnProperty("path");if(this.resultType=e.resultType&&e.resultType.toLowerCase()||"value",this.flatten=e.flatten||!1,this.wrap=e.hasOwnProperty("wrap")?e.wrap:!0,this.sandbox=e.sandbox||{},e.autostart!==!1){var s=this.evaluate(o?e.json:t,o?e.path:r);if(!s||"object"!=typeof reg)throw{avoidNew:!0,value:s,message:"JSONPath should not be called with 'new'"}}}Array.isArray||(Array.isArray=function(e){return"[object Array]"===Object.prototype.toString.call(e)});var isNode="undefined"!=typeof module&&!!module.exports,vm=isNode?require("vm"):{runInNewContext:function(expr,context){return eval(Object.keys(context).reduce(function(e,t){return"var "+t+"="+JSON.stringify(context[t])+";"+e},expr))}},cache={};JSONPath.prototype.evaluate=function(e,t){var r=this;if(this._obj=e,t&&e&&("value"===this.resultType||"path"===this.resultType)){var n=this._normalize(t);"$"===n[0]&&n.length>1&&n.shift();var o=this._trace(n,e,["$"]);return o=o.filter(function(e){return e&&!e.isParentSelector}),o.length?1!==o.length||this.wrap||Array.isArray(o[0].value)?o.reduce(function(e,t){var n=t[r.resultType];return"path"===r.resultType&&(n=r._asPath(n)),r.flatten&&Array.isArray(n)?e=e.concat(n):e.push(n),e},[]):o[0][this.resultType]||!1:this.wrap?[]:!1}},JSONPath.prototype._normalize=function(e){if(cache[e])return cache[e];var t=[],r=e.replace(/[\['](\??\(.*?\))[\]']/g,function(e,r){return"[#"+(t.push(r)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/(?:;)?(\^+)(?:;)?/g,function(e,t){return";"+t.split("").join(";")+";"}).replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,""),n=r.split(";").map(function(e){var r=e.match(/#([0-9]+)/);return r&&r[1]?t[r[1]]:e});return cache[e]=n,cache[e]},JSONPath.prototype._asPath=function(e){var t,r,n=e,o="$";for(t=1,r=n.length;r>t;t++)o+=/^[0-9*]+$/.test(n[t])?"["+n[t]+"]":"['"+n[t]+"']";return o},JSONPath.prototype._trace=function(e,t,r){function n(e){i=i.concat(e)}var o=this;if(!e.length)return[{path:r,value:t}];var s=e[0],a=e.slice(1);if("^"===s)return r.length?[{path:r.slice(0,-1),expr:a,isParentSelector:!0}]:[];var i=[];if(t&&t.hasOwnProperty(s))n(this._trace(a,t[s],push(r,s)));else if("*"===s)this._walk(s,a,t,r,function(e,t,r,s,a){n(o._trace(unshift(e,r),s,a))});else if(".."===s)n(this._trace(a,t,r)),this._walk(s,a,t,r,function(e,t,r,s,a){"object"==typeof s[e]&&n(o._trace(unshift("..",r),s[e],push(a,e)))});else if("("===s[0])n(this._trace(unshift(this._eval(s,t,r[r.length],r),a),t,r));else if(0===s.indexOf("?("))this._walk(s,a,t,r,function(e,t,s,a,i){o._eval(t.replace(/^\?\((.*?)\)$/,"$1"),a[e],e,r)&&n(o._trace(unshift(e,s),a,i))});else if(s.indexOf(",")>-1){var c,l;for(c=s.split(","),l=0;l<c.length;l++)n(this._trace(unshift(c[l],a),t,r))}else/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(s)&&n(this._slice(s,a,t,r));return i.reduce(function(e,r){return e.concat(r.isParentSelector?o._trace(r.expr,t,r.path):[r])},[])},JSONPath.prototype._walk=function(e,t,r,n,o){var s,a,i;if(Array.isArray(r))for(s=0,a=r.length;a>s;s++)o(s,e,t,r,n);else if("object"==typeof r)for(i in r)r.hasOwnProperty(i)&&o(i,e,t,r,n)},JSONPath.prototype._slice=function(e,t,r,n){if(Array.isArray(r)){var o,s=r.length,a=e.split(":"),i=a[0]&&parseInt(a[0],10)||0,c=a[1]&&parseInt(a[1],10)||s,l=a[2]&&parseInt(a[2],10)||1;i=0>i?Math.max(0,i+s):Math.min(s,i),c=0>c?Math.max(0,c+s):Math.min(s,c);var u=[];for(o=i;c>o;o+=l)u=u.concat(this._trace(unshift(o,t),r,n));return u}},JSONPath.prototype._eval=function(e,t,r,n){if(!this._obj||!t)return!1;e.indexOf("@path")>-1&&(this.sandbox._$_path=this._asPath(n.concat([r])),e=e.replace(/@path/g,"_$_path")),e.indexOf("@")>-1&&(this.sandbox._$_v=t,e=e.replace(/@/g,"_$_v"));try{return vm.runInNewContext(e,this.sandbox)}catch(o){throw console.log(o),new Error("jsonPath: "+o.message+": "+e)}},JSONPath.eval=function(e,t,r){return JSONPath(r,e,t)},"undefined"==typeof module?(window.jsonPath={eval:JSONPath.eval},window.JSONPath=JSONPath):module.exports=JSONPath}("undefined"==typeof require?null:require)},{vm:"/Users/mglazer/Documents/code/praetor.js/node_modules/browserify/node_modules/vm-browserify/index.js"}],"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.js":[function(e,t){var r=function(e){"use strict";function t(){if("undefined"==typeof JSONPath)throw new Error("JSONPath is required: (https://github.com/s3u/JSONPath)");return JSONPath}function r(e){return JSON.parse(JSON.stringify(e))}function n(t,r){for(var o in r)if("object"!=typeof t[o])t[o]=t[o]===e?r[o]:t[o];else{if(h.call(t[o])==m){delete t[o];continue}t[o]=n(t[o],r[o])}return t}function o(t,r,n){var o=Function(r.code);n=n||{};for(var s in r.parms)n[s]=n[s]===e?r.parms[s]:n[s];var a={results:t,params:n},i=o.apply(a);return i?i:a.results}function s(e,t,r){s.setOptions(r,t);var n=i(s.getState(t),e||{});s.map(t,n)}var a="rootid",i=function(e,t){for(var r in t)if("object"!=typeof e[r])e[r]=t[r];else if("object"==typeof t[r]){if(h.call(t[r])==m){delete e[r];continue}e[r]=i(e[r],t[r])}return e};s.model=function(){return{stores:{},queries:{},procs:{}}};var c={jsonPathOptions:{}},l={},u={},d="[object Object]",m="[object Null]",p="[object Array]",f="[object String]",h={}.toString;return s.setOptions=function(e,t){l=e,s.settings(e,t)},s.getOptions=function(){return l},s.settings=function(e){return u=i(c,e)},s.map=function(e,t){return this.state=this.state||{},e?(this.state[e]=t||this.state[e]||s.model(),this.state[e]):(this.state[a]=t||this.state[a]||s.model(),this.state[a])},s.procWith=function(e,t,r,n,o){return 1==arguments.length?s.getStoredProcResult(e,id):(s.setJsonQuery(e,r,t,id),s.setStoredProc(e,e,n,o,id),void 0)},s.proc=function(e,r,n,a,i,c){if(1==arguments.length&&h.call(e)==d)return s.getStoredProcResult(e.name,e.parms,e.id);if(e)return s.setStoredProc(e,n,a,i,c);h.call(r)==f&&(r=s.getDataStore(r,c));var l=n.map(function(e){if(s.getJsonQuery(e,c))return s.getJsonQueryResult(e,i,c);for(var n in i)e=e.split(n).join(i[n]);return t()(s.settings().jsonPathOptions,r,e)}),u={parms:i,code:a};return o(l,u,i)},s.setDataStore=function(e,t,r){s.map(r).stores[e]=t},s.getDataStore=function(e,t){return s.map(t).stores[e]},s.removeDataStore=function(e,t){delete s.map(t).stores[e]},s.emptyDataStore=function(e,t){s.map(t).stores[e]={}},s.setJsonQuery=function(e,t,r,n){s.map(n).queries[e]={query:t,store:r}},s.getJsonQuery=function(e,t){return s.map(t).queries[e]},s.getJsonQueryResult=function(e,r,n){var o=s.getJsonQuery(e,n),a=s.getDataStore(o.store,n);for(var i in r)o.query=o.query.split(i).join(r[i]);var c=t()(s.settings().jsonPathOptions,a,o.query);return c},s.setStoredProc=function(e,t,r,n,o){s.map(o).procs[e]={queries:h.call(t)==p?t:t.split(","),code:r,parms:n}},s.getStoredProc=function(e,t){return s.map(t).procs[e]},s.getStoredProcResult=function(e,t,r){var n=s.getStoredProc(e,r),a=[];return a=n.queries.map(function(e){var n={};return n[e]=s.getJsonQueryResult(e,t,r),n}),o(a,n,t)},s.setState=function(e,t){var r=n(e||{},s.model());s.map(t,r)},s.getState=function(e){return r(s.map(e))},s}();"undefined"!=typeof t&&null!==t&&t.exports?(JSONPath=e("JSONPath"),t.exports=r):"function"==typeof define&&define.amd&&define("",["JSONPath"],function(){return r})},{JSONPath:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/node_modules/JSONPath/lib/jsonpath.js"}],"/Users/mglazer/Documents/code/praetor.js/src/data/books.json":[function(e,t){t.exports={store:{book:[{category:"reference",author:"Nigel Rees",title:"Sayings of the Century",price:8.95},{category:"fiction",author:"Evelyn Waugh",title:"Sword of Honour",price:12.99},{category:"fiction",author:"Herman Melville",title:"Moby Dick",isbn:"0-553-21311-3",price:8.99},{category:"fiction",author:"J. R. R. Tolkien",title:"The Lord of the Rings",isbn:"0-395-19395-8",price:22.99}],bicycle:{color:"red",price:19.95}}}},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/modal.js":[function(e,t){m=e("mithril");var r=function(){function e(){return m("button[type=button].close-modal",{onclick:r.visible.bind(this,!1)},"Close modal")}function t(t){return[m(".modal",m(".wrapper",[t(),e()]))]}var r={};return r.visible=m.prop(!1),r.view=function(e){return r.visible()?t(e):""},r};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js":[function(e,t){m=e("mithril");var r=function(){var e={};return e.model={elementType:"button",className:".messages"},e.controller=function(t){this.elementType=t.elementType?t.elementType:e.model.elementType,this.className=t.className?t.className:e.model.className,this.message=t.message,this.pass=t.pass,this.fail=t.fail},e.view=function(e){var t=e.pass()?e.message.pass:e.fail()?e.message.fail:"",r=e.pass()?"success":"error";return t?m(e.elementType+e.className,{"class":r},t):m("")},e};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js":[function(e,t){m=e("mithril");
var r={};r.types={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",FUNCTION:"function"},r.type={}.toString,r.isFunction=function(e){return typeof e===r.types.FUNCTION?!0:!1},r.jsonPathValue=function(e){function t(e,t){return e[t]}return string.split(sep||".").reduce(t,e)};var n={controller:function(e){this.tabs=e.tabs,this.changeTab=e.changeTab},view:function(e,t,r){return m(".tabbed",m(".tabs",[n.tabs({tabs:e.tabs,selectedItem:t.selectedItem,onchange:e.changeTab})]),n.choose(t.selectedItem,e.tabs,r))}};n.tabs=function(e){return m("ul",e.tabs.map(function(t){return m("li",[n.tab(e,t.name)])}))},n.tab=function(e,t){return m("a",{"class":e.selectedItem==t?"selected":"",onclick:e.onchange.bind(this,t)},t)},n.choose=function(e,t,n){var o;t.forEach(function(t,r){return t.name==e&&(void 0===n.key&&(n.key=r),o=t.content)});var s=r.isFunction(o)?o():o;return m.module(s,n)},t.exports=n},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/main.js":[function(e,t){t.exports={persist:e("./persistence"),dash:e("./modules/dashboard/app"),store:e("./modules/store/app"),query:e("./modules/query/app"),demo:e("./modules/demo/app")}},{"./modules/dashboard/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/dashboard/app.js","./modules/demo/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/app.js","./modules/query/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/app.js","./modules/store/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/app.js","./persistence":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/dashboard/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js");var r=function(){var e={};e.listEven=function(){return m.request({method:"GET",url:"./data/movies.json"}).then(function(e){return e.data.movies.filter(function(e){return e.id%2==0})})};var t={data:{},controller:function(){this.error=m.prop(""),this.users=e.listEven().then(function(){},this.error)},view:function(){return m(".card",{config:function(){document.getElementsByClassName("content")[0].style.backgroundColor="#f1f1f3"}},[m("span.card-color",m("h1.cards.card-color-title","New Movies")),m(".card-content",[m("p.cards","Search newest: ",m('input[placeholder="Filter by Genre"]')),m("h4.cards","See run time code")])])}};return t};t.exports=r},{"../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/app.js":[function(e,t){m=e("mithril"),tabbed=e("../../components/tabs"),utils=e("../../utils"),books=e("../../../data/books");var r=e("../../modules/demo/list"),n=e("../../modules/demo/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:n},{name:"results",content:r}]},controller:function(){this.data=e.data,this.list=m.prop([]),this.code=m.prop(""),this.state=m.prop({}),this.changeTab=function(e){this.data.selectedItem=e}.bind(this)},view:function(e){var t={tabs:e.data.tabs,selectedItem:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{state:e.state,list:e.list,code:e.code,actions:e.actions,changeTab:e.changeTab}))}};return e};t.exports=o},{"../../../data/books":"/Users/mglazer/Documents/code/praetor.js/src/data/books.json","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/demo/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/form.js","../../modules/demo/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/list.js","../../utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/form.js":[function(e,t){var r=function(){var e={};e.booksString=JSON.stringify(books),e.books=JSON.parse(e.booksString);var t={name:"demo-form"};return t.controller=function(r){this.model=r.state()[t.name]||{store:m.prop(""),queries:m.prop(""),code:m.prop("")},r.state({"demo-form":this.model}),this.results=m.prop(""),this.pass=m.prop(""),this.fail=m.prop(""),this.prefill=function(){this.model.store(e.booksString),this.model.queries("$..title"),this.model.code("this.results[0].reverse()")}.bind(this),this.save=function(){this.model.store()&&this.model.queries()&&this.model.code()?(this.results(p.proc(null,JSON.parse(this.model.store()),this.model.queries().split(","),this.model.code())),this.pass(!0),r.code("p.proc(null,"+this.model.store()+",'"+this.model.queries().split(",")+"', '"+this.model.code()+"')"),r.list(this.results),r.changeTab("results")):this.fail(!0)}.bind(this)},t.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Run anon procedure - p.proc(null,JSONData,JSONPathQueries,JSCode)",[m("button.warning",{onclick:e.prefill},"pre-fill sample"),m('textarea[placeholder="JSON data"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m('input[placeholder="JSONPath queries (comma separated)"]',{onchange:m.withAttr("value",e.model.queries),value:e.model.queries()}),m('textarea[placeholder="JS Code Procedure block (this.results array)"]',{onchange:m.withAttr("value",e.model.code),value:e.model.code()}),m("button",{onclick:e.save},"Run")]])},t};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/list.js":[function(e,t){var r=function(){var e={};return e.controller=function(){this.setArea=function(e){utils.resizeTextarea(e.id)}},e.view=function(e,t){return m(".results",[m("textarea#list",{config:e.setArea},JSON.stringify(t.list())),m("textarea#code",{config:e.setArea},t.code())])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs");var r=e("../../modules/query/list"),n=e("../../modules/query/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:n},{name:"list",content:r}]},controller:function(){this.data=e.data,this.actions=persist.model("queries"),this.list=this.actions.getList(),p({queries:this.list}),this.changeTab=function(e){this.data.selectedItem=e}.bind(this)},view:function(e){var t={tabs:e.data.tabs,selectedItem:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,actions:e.actions}))}};return e};t.exports=o},{"../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/query/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/form.js","../../modules/query/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/form.js":[function(e,t){var r=function(){var e={};return e.controller=function(e){this.model={name:m.prop(""),query:m.prop(""),store:m.prop("")},this.actions=e.actions,this.list=e.list,this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.store()&&this.model.query()?(this.list[this.model.name()]={query:this.model.query(),store:this.model.store()},this.actions.saveList(this.list),p.setJsonQuery(this.model.name(),this.model.query(),this.model.store())):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Add query - p.setJsonQuery(queryName, JSONPathQuery, JSONDataStoreName) - (JSONPath syntax)",[m('input[placeholder="query name"]',{onchange:m.withAttr("value",e.model.name),value:e.model.name()}),m('textarea[placeholder="JSONPath Query"]',{onchange:m.withAttr("value",e.model.query),value:e.model.query()}),m('input[placeholder="JSON store name"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m("button",{onclick:e.save},"Add")]])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/list.js":[function(e,t){var r=function(){var e={name:"Queries"};return e.controller=function(){this[e.name]=p.getState()[e.name],this.title=e.name,this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(t,r){return m("ul."+e.name+"-list",{},m("h3",t.title),Object.keys(r.list).map(function(e){var n=r.list[e];return m("li",{title:n,onclick:t.showHide.bind(this,e)},e,t.showJson==e?m("textarea.json",n):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs"),books=e("../../../data/books");var r=e("../../modules/store/list"),n=e("../../modules/store/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:n},{name:"list",content:r}]},controller:function(){this.data=e.data,this.actions=persist.model("stores"),this.list=this.actions.getList(),p({stores:this.list}),this.changeTab=function(e){this.data.selectedItem=e}.bind(this)},view:function(e){var t={tabs:e.data.tabs,selectedItem:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,actions:e.actions}))}};return e};t.exports=o},{"../../../data/books":"/Users/mglazer/Documents/code/praetor.js/src/data/books.json","../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/store/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/form.js","../../modules/store/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/form.js":[function(e,t){var r=function(){var e={};return e.controller=function(e){this.model={name:m.prop(""),store:m.prop("")},this.actions=e.actions,this.list=e.list,this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.store()?(this.list[this.model.name()]=this.model.store(),this.actions.saveList(this.list),p.setDataStore(this.model.name(),JSON.parse(this.model.store()))):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Add store - p.setDataStore(storeName, JSONData)",[m('input[placeholder="store name"]',{onchange:m.withAttr("value",e.model.name),value:e.model.name()}),m('textarea[placeholder="JSON data"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m("button",{onclick:e.save},"Add")]])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/list.js":[function(e,t){var r=function(){var e={};return e.controller=function(){this.stores=p.getState().stores,this.title="Stores",this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(e,t){return m("ul.store-list",{},m("h3",e.title),Object.keys(t.list).map(function(r){var n=t.list[r];return m("li",{title:n,onclick:e.showHide.bind(this,r)},r,e.showJson==r?m("textarea.json",n):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js":[function(e,t){m=e("mithril"),p=e("praetor");var r={};r.init=function(){var e=["stores","queries","procs"],t={};e.forEach(function(e){if(t[e]=localStorage[e]?JSON.parse(localStorage[e]):{},"stores"==e)for(k in t[e])t[e][k]=JSON.parse(t[e][k])}),console.log("state set")},r.model=function(e){return{saveList:function(t){localStorage[e]=JSON.stringify(t)},getList:function(){return localStorage[e]?JSON.parse(localStorage[e]):{}}}},t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js":[function(e,t){var r={};r.resizeTextarea=function(e){var t;t=window.attachEvent?function(e,t,r){e.attachEvent("on"+t,r)}:function(e,t,r){e.addEventListener(t,r,!1)};!function(e){function r(){o.style.height="auto",o.style.height=o.scrollHeight+"px"}function n(){window.setTimeout(r,0)}var o=document.getElementById(e);t(o,"change",r),t(o,"cut",n),t(o,"paste",n),t(o,"drop",n),t(o,"keydown",n),r()}(e)},t.exports=r},{}]},{},["./src/scripts/app.js"]);