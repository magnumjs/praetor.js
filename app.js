!function e(t,r,n){function o(a,i){if(!r[a]){if(!t[a]){var l="function"==typeof require&&require;if(!i&&l)return l(a,!0);if(s)return s(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r?r:e)},u,u.exports,e,t,r,n)}return r[a].exports}for(var s="function"==typeof require&&require,a=0;a<n.length;a++)o(n[a]);return o}({"./src/scripts/app.js":[function(e){m=e("mithril"),links=e("./components/linknav"),main=e("./main");var t=main.persist,r=main.demo,n=main.utils,o=main.store,s=main.dash,a=main.home,i=main.query,l=[{text:"Welcome page",type:a,link:"/welcome"},{text:"Simple Demo",type:r,link:"/demo"},{text:"API::Create Stores",type:o,link:"/store"},{text:"API::Create Queries",type:i,link:"/query"},{text:"Dashboard Card Demo",type:s,link:"/dash"}],c={state:m.prop({})};c.controller=function(){t.init(),this.id=m.prop(0)}();var u={selectedIndex:m.prop(0)};u.controller=function(){var e=m.route.param("key"),t=m.route.param("sub");l.forEach(function(t,r){return t.link=="/"+e?u.selectedIndex(r):null}),this.message=m.module(l[u.selectedIndex()].type(),{top:e,sub:t,state:c.state})},u.view=function(e){var t=function(){return m("section",{key:u.selectedIndex()},e.message)},r=function(){return m(".welcome",[m("h1","Praetor Admin Editor"),m("h3",{title:"reference procs to manipulate data in pre-determined ways"},"JSON Path Stored Procedures"),links({linkMap:l,style:"select",selectedIndex:u.selectedIndex}),m("button.silver",{onclick:function(){m.route(l[u.selectedIndex()].link)}},"Go"),m('a[href="https://github.com/magnumjs/praetor.js"]',"PraetorJS gitHub")])};return n.m.mixinLayout(n.m.layout,r,t)()},m.route(document.body,"/welcome",{"/:key":u,"/:key/:sub":u})},{"./components/linknav":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/linknav.js","./main":"/Users/mglazer/Documents/code/praetor.js/src/scripts/main.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js":[function(e,t){var r=function n(e,t){function r(e){T=e.document,z=e.location,C=e.cancelAnimationFrame||e.clearTimeout,q=e.requestAnimationFrame||e.setTimeout}function o(){var e,t=[].slice.call(arguments),r=!(null==t[1]||P.call(t[1])!==E||"tag"in t[1]||"view"in t[1]||"subtree"in t[1]),n=r?t[1]:{},o="class"in n?"class":"className",s={tag:"div",attrs:{}},a=[];if(P.call(t[0])!=J)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=M.exec(t[0]);)if(""===e[1]&&e[2])s.tag=e[2];else if("#"===e[1])s.attrs.id=e[2];else if("."===e[1])a.push(e[2]);else if("["===e[3][0]){var i=R.exec(e[3]);s.attrs[i[1]]=i[3]||(i[2]?"":!0)}a.length>0&&(s.attrs[o]=a.join(" "));var l=r?t.slice(2):t.slice(1);s.children=1===l.length&&P.call(l[0])===A?l[0]:l;for(var c in n)c===o?""!==n[c]&&(s.attrs[c]=(s.attrs[c]||"")+" "+n[c]):s.attrs[c]=n[c];return s}function s(e,r,n,c,m,d,p,f,h,g,v){try{(null==m||null==m.toString())&&(m="")}catch(y){m=""}if("retain"===m.subtree)return d;var j=P.call(d),b=P.call(m);if(null==d||j!==b){if(null!=d)if(n&&n.nodes){var w=f-c,x=w+(b===A?m:d.nodes).length;l(n.nodes.slice(w,x),n.slice(w,x))}else d.nodes&&l(d.nodes,d);d=new m.constructor,d.tag&&(d={}),d.nodes=[]}if(b===A){for(var k=0,D=m.length;D>k;k++)P.call(m[k])===A&&(m=m.concat.apply([],m),k--,D=m.length);for(var S=[],N=d.length===m.length,O=0,U=1,z=2,q=3,C={},M=[],R=!1,k=0;k<d.length;k++)d[k]&&d[k].attrs&&null!=d[k].attrs.key&&(R=!0,C[d[k].attrs.key]={action:U,index:k});if(R){m.indexOf(null)>-1&&(m=m.filter(function(e){return null!=e}));var F=!1;if(m.length!=d.length)F=!0;else for(var L,_,k=0;L=d[k],_=m[k];k++)if(L.attrs&&_.attrs&&L.attrs.key!=_.attrs.key){F=!0;break}if(F){for(var k=0,D=m.length;D>k;k++)if(m[k]&&m[k].attrs)if(null!=m[k].attrs.key){var H=m[k].attrs.key;C[H]=C[H]?{action:q,index:k,from:C[H].index,element:d.nodes[C[H].index]||T.createElement("div")}:{action:z,index:k}}else M.push({index:k,element:e.childNodes[k]||T.createElement("div")});var B=[];for(var Q in C)B.push(C[Q]);for(var W,G=B.sort(a),K=new Array(d.length),k=0;W=G[k];k++){if(W.action===U&&(l(d[W.index].nodes,d[W.index]),K.splice(W.index,1)),W.action===z){var V=T.createElement("div");V.key=m[W.index].attrs.key,e.insertBefore(V,e.childNodes[W.index]||null),K.splice(W.index,0,{attrs:{key:m[W.index].attrs.key},nodes:[V]})}W.action===q&&(e.childNodes[W.index]!==W.element&&null!==W.element&&e.insertBefore(W.element,e.childNodes[W.index]||null),K[W.index]=d[W.from])}for(var k=0,D=M.length;D>k;k++){var W=M[k];e.insertBefore(W.element,e.childNodes[W.index]||null),K[W.index]=d[W.index]}d=K,d.nodes=new Array(e.childNodes.length);for(var Y,k=0;Y=e.childNodes[k];k++)d.nodes[k]=Y}}for(var k=0,Z=0,D=m.length;D>k;k++){var et=s(e,r,d,f,m[k],d[Z],p,f+O||O,h,g,v);et!==t&&(et.nodes.intact||(N=!1),O+=et.$trusted?(et.match(/<[^\/]|\>\s*[^<]|&/g)||[]).length:P.call(et)===A?et.length:1,d[Z++]=et)}if(!N){for(var k=0,D=m.length;D>k;k++)null!=d[k]&&S.push.apply(S,d[k].nodes);for(var tt,k=0;tt=d.nodes[k];k++)null!=tt.parentNode&&S.indexOf(tt)<0&&l([tt],[d[k]]);m.length<d.length&&(d.length=m.length),d.nodes=S}}else if(null!=m&&b===E){if(m.view){var nt,ot=m,st=ot.controller.$original||ot.controller,at=st===d.controllerConstructor?d.controller:new(ot.controller||function(){});if(m=0==rt?ot.view(at):{tag:"placeholder"},at.onunload&&X.push({controller:at,handler:at.onunload}),!m.tag)throw new Error("Component template must return a virtual element, not an array, string, etc.")}m.attrs||(m.attrs={}),d.attrs||(d.attrs={});var it=Object.keys(m.attrs),lt=it.length>("key"in m.attrs?1:0);if((m.tag!=d.tag||it.join()!=Object.keys(d.attrs).join()||m.attrs.id!=d.attrs.id||m.attrs.key!=d.attrs.key||"all"==o.redraw.strategy()&&d.configContext&&d.configContext.retain!==!0||"diff"==o.redraw.strategy()&&d.configContext&&d.configContext.retain===!1)&&(d.nodes.length&&l(d.nodes),d.configContext&&typeof d.configContext.onunload===I&&d.configContext.onunload(),d.controller&&typeof d.controller.onunload===I&&d.controller.onunload({preventDefault:function(){}})),P.call(m.tag)!=J)return;var tt,ct=0===d.nodes.length;if(m.attrs.xmlns?g=m.attrs.xmlns:"svg"===m.tag?g="http://www.w3.org/2000/svg":"math"===m.tag&&(g="http://www.w3.org/1998/Math/MathML"),ct){if(tt=m.attrs.is?g===t?T.createElement(m.tag,m.attrs.is):T.createElementNS(g,m.tag,m.attrs.is):g===t?T.createElement(m.tag):T.createElementNS(g,m.tag),d={tag:m.tag,attrs:lt?i(tt,m.tag,m.attrs,{},g):m.attrs,children:null!=m.children&&m.children.length>0?s(tt,m.tag,t,t,m.children,d.children,!0,0,m.attrs.contenteditable?tt:h,g,v):m.children,nodes:[tt]},at&&(d.controllerConstructor=st,d.controller=at,at.onunload&&at.onunload.$old&&(at.onunload=at.onunload.$old),rt&&at.onunload)){var nt=at.onunload;at.onunload=function(){},at.onunload.$old=nt}d.children&&!d.children.nodes&&(d.children.nodes=[]),"select"===m.tag&&m.attrs.value&&i(tt,m.tag,{value:m.attrs.value},{},g),e.insertBefore(tt,e.childNodes[f]||null)}else tt=d.nodes[0],lt&&i(tt,m.tag,m.attrs,d.attrs,g),d.children=s(tt,m.tag,t,t,m.children,d.children,!1,0,m.attrs.contenteditable?tt:h,g,v),d.nodes.intact=!0,at&&(d.controllerConstructor=st,d.controller=at),p===!0&&null!=tt&&e.insertBefore(tt,e.childNodes[f]||null);if(typeof m.attrs.config===I){var ut=d.configContext=d.configContext||{retain:"diff"==o.redraw.strategy()},mt=function(e,t){return function(){return e.attrs.config.apply(e,t)}};v.push(mt(m,[tt,!ct,ut,d]))}}else if(typeof m!=I){var S;0===d.nodes.length?(m.$trusted?S=u(e,f,m):(S=[T.createTextNode(m)],e.nodeName.match($)||e.insertBefore(S[0],e.childNodes[f]||null)),d="string number boolean".indexOf(typeof m)>-1?new m.constructor(m):m,d.nodes=S):d.valueOf()!==m.valueOf()||p===!0?(S=d.nodes,h&&h===T.activeElement||(m.$trusted?(l(S,d),S=u(e,f,m)):"textarea"===r?e.value=m:h?h.innerHTML=m:((1===S[0].nodeType||S.length>1)&&(l(d.nodes,d),S=[T.createTextNode(m)]),e.insertBefore(S[0],e.childNodes[f]||null),S[0].nodeValue=m)),d=new m.constructor(m),d.nodes=S):d.nodes.intact=!0}return d}function a(e,t){return e.action-t.action||e.index-t.index}function i(e,t,r,n,o){for(var s in r){var a=r[s],i=n[s];if(s in n&&i===a)"value"===s&&"input"===t&&e.value!=a&&(e.value=a);else{n[s]=a;try{if("config"===s||"key"==s)continue;if(typeof a===I&&0===s.indexOf("on"))e[s]=m(a,e);else if("style"===s&&null!=a&&P.call(a)===E){for(var l in a)(null==i||i[l]!==a[l])&&(e.style[l]=a[l]);for(var l in i)l in a||(e.style[l]="")}else null!=o?"href"===s?e.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===s?e.setAttribute("class",a):e.setAttribute(s,a):s in e&&"list"!==s&&"style"!==s&&"form"!==s&&"type"!==s&&"width"!==s&&"height"!==s?("input"!==t||e[s]!==a)&&(e[s]=a):e.setAttribute(s,a)}catch(c){if(c.message.indexOf("Invalid argument")<0)throw c}}}return n}function l(e,t){for(var r=e.length-1;r>-1;r--)if(e[r]&&e[r].parentNode){try{e[r].parentNode.removeChild(e[r])}catch(n){}t=[].concat(t),t[r]&&c(t[r])}0!=e.length&&(e.length=0)}function c(e){if(e.configContext&&typeof e.configContext.onunload===I&&(e.configContext.onunload(),e.configContext.onunload=null),e.controller&&typeof e.controller.onunload===I&&e.controller.onunload({preventDefault:function(){}}),e.children)if(P.call(e.children)===A)for(var t,r=0;t=e.children[r];r++)c(t);else e.children.tag&&c(e.children)}function u(e,t,r){var n=e.childNodes[t];if(n){var o=1!=n.nodeType,s=T.createElement("span");o?(e.insertBefore(s,n||null),s.insertAdjacentHTML("beforebegin",r),e.removeChild(s)):n.insertAdjacentHTML("beforebegin",r)}else e.insertAdjacentHTML("beforeend",r);for(var a=[];e.childNodes[t]!==n;)a.push(e.childNodes[t]),t++;return a}function m(e,t){return function(r){r=r||event,o.redraw.strategy("diff"),o.startComputation();try{return e.call(t,r)}finally{nt()}}}function d(e){var t=_.indexOf(e);return 0>t?_.push(e)-1:t}function p(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function f(e,t){var r=function(){return(e.controller||function(){}).apply(this,t)||this},n=function(r){arguments.length>1&&(t=t.concat([].slice.call(arguments,1)));var n=e.view.apply(e,t?[r].concat(t):[r]);return t[0]&&null!=t[0].key&&(n.attrs.key=t[0].key),n};r.$original=e.controller;var o={controller:r,view:n};return t[0]&&null!=t[0].key&&(o.attrs={key:t[0].key}),o}function h(){for(var e,t=0;e=Q[t];t++)if(G[t]){var r=W[t].controller&&W[t].controller.$$args?[G[t]].concat(W[t].controller.$$args):[G[t]];o.render(e,W[t].view?W[t].view(G[t],r):tt())}Y&&(Y(),Y=null),K=null,V=new Date,o.redraw.strategy("diff")}function g(e){return e.slice(at[o.route.mode].length)}function v(e,t,r){ot={};var n=r.indexOf("?");-1!==n&&(ot=w(r.substr(n+1,r.length)),r=r.substr(0,n));var s=Object.keys(t),a=s.indexOf(r);if(-1!==a)return o.module(e,t[s[a]]),!0;for(var i in t){if(i===r)return o.module(e,t[i]),!0;var l=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(l.test(r))return r.replace(l,function(){for(var r=i.match(/:[^\/]+/g)||[],n=[].slice.call(arguments,1,-2),s=0,a=r.length;a>s;s++)ot[r[s].replace(/:|\./g,"")]=decodeURIComponent(n[s]);o.module(e,t[i])}),!0}}function y(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=e.currentTarget||e.srcElement,r="pathname"===o.route.mode&&t.search?w(t.search.slice(1)):{};t&&"A"!=t.nodeName.toUpperCase();)t=t.parentNode;o.route(t[o.route.mode].slice(at[o.route.mode].length),r)}}function j(){"hash"!=o.route.mode&&z.hash?z.hash=z.hash:e.scrollTo(0,0)}function b(e,t){var r=[];for(var n in e){var o=t?t+"["+n+"]":n,s=e[n],a=P.call(s),i=null!=s&&a===E?b(s,o):a===A?s.map(function(e){return encodeURIComponent(o+"[]")+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(o)+"="+encodeURIComponent(s);r.push(i)}return r.join("&")}function w(e){for(var t=e.split("&"),r={},n=0,o=t.length;o>n;n++){var s=t[n].split("=");r[decodeURIComponent(s[0])]=s[1]?decodeURIComponent(s[1]):""}return r}function x(e){var r=d(e);l(e.childNodes,H[r]),H[r]=t}function k(e){var t=o.prop();return e.then(t),t.then=function(r,n){return e=e.then(r,n).then(t),t},t}function D(e,t){function r(e){m=e||c,p.map(function(e){m===l&&e.resolve(d)||e.reject(d)})}function n(e,t,r,n){if((null!=d&&P.call(d)===E||typeof d===I)&&typeof e===I)try{var s=0;e.call(d,function(e){s++||(d=e,t())},function(e){s++||(d=e,r())})}catch(a){o.deferred.onerror(a),d=a,r()}else n()}function s(){var c;try{c=d&&d.then}catch(p){return o.deferred.onerror(p),d=p,m=i,s()}n(c,function(){m=a,s()},function(){m=i,s()},function(){try{m===a&&typeof e===I?d=e(d):m===i&&"function"==typeof t&&(d=t(d),m=a)}catch(s){return o.deferred.onerror(s),d=s,r()}d===u?(d=TypeError(),r()):n(c,function(){r(l)},r,function(){r(m===a&&l)})})}var a=1,i=2,l=3,c=4,u=this,m=0,d=0,p=[];u.promise={},u.resolve=function(e){return m||(d=e,m=a,s()),this},u.reject=function(e){return m||(d=e,m=i,s()),this},u.promise.then=function(e,t){var r=new D(e,t);return m===l?r.resolve(d):m===c?r.reject(d):p.push(r),r.promise}}function S(e){return e}function N(r){if(!r.dataType||"jsonp"!==r.dataType.toLowerCase()){var n=new e.XMLHttpRequest;if(n.open(r.method,r.url,!0,r.user,r.password),n.onreadystatechange=function(){4===n.readyState&&(n.status>=200&&n.status<300?r.onload({type:"load",target:n}):r.onerror({type:"error",target:n}))},r.serialize===JSON.stringify&&r.data&&"GET"!==r.method&&n.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.deserialize===JSON.parse&&n.setRequestHeader("Accept","application/json, text/*"),typeof r.config===I){var o=r.config(n,r);null!=o&&(n=o)}var s="GET"!==r.method&&r.data?r.data:"";if(s&&P.call(s)!=J&&s.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return n.send(s),n}var a="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=T.createElement("script");e[a]=function(n){i.parentNode.removeChild(i),r.onload({type:"load",target:{responseText:n}}),e[a]=t},i.onerror=function(){return i.parentNode.removeChild(i),r.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[a]=t,!1},i.onload=function(){return!1},i.src=r.url+(r.url.indexOf("?")>0?"&":"?")+(r.callbackKey?r.callbackKey:"callback")+"="+a+"&"+b(r.data||{}),T.body.appendChild(i)}function O(e,t,r){if("GET"===e.method&&"jsonp"!=e.dataType){var n=e.url.indexOf("?")<0?"?":"&",o=b(t);e.url=e.url+(o?n+o:"")}else e.data=r(t);return e}function U(e,t){var r=e.match(/:[a-z]\w+/gi);if(r&&t)for(var n=0;n<r.length;n++){var o=r[n].slice(1);e=e.replace(r[n],t[o]),delete t[o]}return e}var T,z,q,C,E="[object Object]",A="[object Array]",J="[object String]",I="function",P={}.toString,M=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,R=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,$=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;r(e);var F,L={appendChild:function(e){F===t&&(F=T.createElement("html")),T.documentElement&&T.documentElement!==e?T.replaceChild(e,T.documentElement):T.appendChild(e),this.childNodes=T.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},_=[],H={};o.render=function(e,r,n){var o=[];if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var a=d(e),i=e===T,c=i||e===T.documentElement?L:e;i&&"html"!=r.tag&&(r={tag:"html",attrs:{},children:r}),H[a]===t&&l(c.childNodes),n===!0&&x(e),H[a]=s(c,null,t,t,r,H[a],!1,0,null,t,o);for(var u=0,m=o.length;m>u;u++)o[u]()},o.trust=function(e){return e=new String(e),e.$trusted=!0,e},o.prop=function(e){return(null!=e&&P.call(e)===E||typeof e===I)&&typeof e.then===I?k(e):p(e)};var B,Q=[],W=[],G=[],K=null,V=0,Y=null,X=[],Z=16;o.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");if(e.view)return f(e,[].slice.call(arguments,1));var r=Q.indexOf(e);0>r&&(r=Q.length);for(var n,s=!1,a={preventDefault:function(){s=!0}},i=0;n=X[i];i++)n.handler(a),n.controller.onunload=null;if(s)for(var n,i=0;n=X[i];i++)n.controller.onunload=n.handler;else X=[];if(G[r]&&typeof G[r].onunload===I&&G[r].onunload(a),!s){o.redraw.strategy("all"),o.startComputation(),Q[r]=e,arguments.length>2&&(t=f(t,[].slice.call(arguments,2)));var l=B=t=t||{},c=t.controller||function(){},u=new c;return l===B&&(G[r]=u,W[r]=t),nt(),G[r]}};var et=!1;o.redraw=function(t){et||(et=!0,K&&t!==!0?(new Date-V>Z||q===e.requestAnimationFrame)&&(K>0&&C(K),K=q(h,Z)):(h(),K=q(function(){K=null},Z)),et=!1)},o.redraw.strategy=o.prop();var tt=function(){return""},rt=0;o.startComputation=function(){rt++},o.endComputation=function(){rt=Math.max(rt-1,0),0===rt&&o.redraw()};var nt=function(){"none"==o.redraw.strategy()?(rt--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(e,t){return function(r){r=r||event;var n=r.currentTarget||this;t(e in n?n[e]:n.getAttribute(e))}};var ot,st,at={pathname:"",hash:"#",search:"?"},it=function(){};return o.route=function(){if(0===arguments.length)return st;if(3===arguments.length&&P.call(arguments[1])===J){var t=arguments[0],r=arguments[1],n=arguments[2];it=function(e){var s=st=g(e);v(t,n,s)||o.route(r,!0)};var s="hash"===o.route.mode?"onhashchange":"onpopstate";e[s]=function(){var e=z[o.route.mode];"pathname"===o.route.mode&&(e+=z.search),st!=g(e)&&it(e)},Y=j,e[s]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){{var a=arguments[0];arguments[1],arguments[2]}a.href=("pathname"!==o.route.mode?z.pathname:"")+at[o.route.mode]+this.attrs.href,a.addEventListener?(a.removeEventListener("click",y),a.addEventListener("click",y)):(a.detachEvent("onclick",y),a.attachEvent("onclick",y))}else if(P.call(arguments[0])===J){var i=st;st=arguments[0];var l=arguments[1]||{},c=st.indexOf("?"),u=c>-1?w(st.slice(c+1)):{};for(var m in l)u[m]=l[m];var d=b(u),p=c>-1?st.slice(0,c):st;d&&(st=p+(-1===p.indexOf("?")?"?":"&")+d);var f=(3===arguments.length?arguments[2]:arguments[1])===!0||i===arguments[0];e.history.pushState?(Y=function(){e.history[f?"replaceState":"pushState"](null,T.title,at[o.route.mode]+st),j()},it(at[o.route.mode]+st)):(z[o.route.mode]=st,it(at[o.route.mode]+st))}},o.route.param=function(e){if(!ot)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return ot[e]},o.route.mode="search",o.deferred=function(){var e=new D;return e.promise=k(e.promise),e},o.deferred.onerror=function(e){if("[object Error]"===P.call(e)&&!e.constructor.toString().match(/ Error/))throw e},o.sync=function(e){function t(e,t){return function(o){return a[e]=o,t||(r="reject"),0===--s&&(n.promise(a),n[r](a)),o}}var r="resolve",n=o.deferred(),s=e.length,a=new Array(s);if(e.length>0)for(var i=0;i<e.length;i++)e[i].then(t(i,!0),t(i,!1));else n.resolve([]);return n.promise},o.request=function(e){e.background!==!0&&o.startComputation();var t=o.deferred(),r=e.dataType&&"jsonp"===e.dataType.toLowerCase(),n=e.serialize=r?S:e.serialize||JSON.stringify,s=e.deserialize=r?S:e.deserialize||JSON.parse,a=e.extract||function(e){return 0===e.responseText.length&&s===JSON.parse?null:e.responseText};return e.url=U(e.url,e.data),e=O(e,e.data,n),e.onload=e.onerror=function(r){try{r=r||event;var n=("load"===r.type?e.unwrapSuccess:e.unwrapError)||S,i=n(s(a(r.target,e)),r.target);if("load"===r.type)if(P.call(i)===A&&e.type)for(var l=0;l<i.length;l++)i[l]=new e.type(i[l]);else e.type&&(i=new e.type(i));t["load"===r.type?"resolve":"reject"](i)}catch(r){o.deferred.onerror(r),t.reject(r)}e.background!==!0&&o.endComputation()},N(e),t.promise(e.initialValue),t.promise},o.deps=function(t){return r(e=t||e),e},o.deps.factory=n,o}("undefined"!=typeof window?window:{});"undefined"!=typeof t&&null!==t&&t.exports?t.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})},{}],"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js":[function(e,t){function r(e,t,r,n){var o={resultType:r&&r.resultType||"VALUE",result:[],normalize:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,function(e,r,n){return"[#"+(t.push(r||n)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(e,r){return t[r]})},asPath:function(e){for(var t=e.split(";"),r="$",n=1,o=t.length;o>n;n++)r+=/^[0-9*]+$/.test(t[n])?"["+t[n]+"]":"['"+t[n]+"']";return r},store:function(e,t){return e&&(o.result[o.result.length]="PATH"==o.resultType.toUpperCase()?o.asPath(e):t),!!e},trace:function(e,t,r){if(""!==e){var n=e.split(";"),s=n.shift();if(n=n.join(";"),t&&t.hasOwnProperty(s))o.trace(n,t[s],r+";"+s);else if("*"===s)o.walk(s,n,t,r,function(e,t,r,n,s){o.trace(e+";"+r,n,s)});else if(".."===s)o.trace(n,t,r),o.walk(s,n,t,r,function(e,t,r,n,s){"object"==typeof n[e]&&o.trace("..;"+r,n[e],s+";"+e)});else if(/^\(.*?\)$/.test(s))o.trace(o.eval(s,t,r.substr(r.lastIndexOf(";")+1))+";"+n,t,r);else if(/^\?\(.*?\)$/.test(s))o.walk(s,n,t,r,function(e,t,r,n,s){o.eval(t.replace(/^\?\((.*?)\)$/,"$1"),n instanceof Array?n[e]:n,e)&&o.trace(e+";"+r,n,s)});else if(/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(s))o.slice(s,n,t,r);else if(/,/.test(s))for(var a=s.split(/'?,'?/),i=0,l=a.length;l>i;i++)o.trace(a[i]+";"+n,t,r)}else o.store(r,t)},walk:function(e,t,r,n,o){if(r instanceof Array)for(var s=0,a=r.length;a>s;s++)s in r&&o(s,e,t,r,n);else if("object"==typeof r)for(var i in r)r.hasOwnProperty(i)&&o(i,e,t,r,n)},slice:function(e,t,r,n){if(r instanceof Array){var s=r.length,a=0,i=s,l=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,r,n){a=parseInt(t||a),i=parseInt(r||i),l=parseInt(n||l)}),a=0>a?Math.max(0,a+s):Math.min(s,a),i=0>i?Math.max(0,i+s):Math.min(s,i);for(var c=a;i>c;c+=l)o.trace(c+";"+t,r,n)}},eval:function(e,t,r){try{var o=JSON.stringify({query:e,obj:t,index:r});if(n[o]=n[o]||{},!n[o].functionToInvoke){var a=function(e,t,r,s){if(!n[o].innerFunctionToInvoke){var a='return x.replace(/(^|[^\\\\])@/g, "$1_v").replace(/\\@/g, "@")';n[o].innerFunctionToInvoke=new Function(["x","_v","_vname","$"],a)}e=n[o].innerFunctionToInvoke.apply(this,[e,t,r,s]);var i="return "+e,l=new Function(["x","_v","_vname","$"],i),c=l.apply(this,[e,t,r,s]);return c}.bind(this);n[o]={functionToInvoke:a}}var i=n[o].functionToInvoke(e,t,r,s);return s&&t&&i}catch(l){throw new SyntaxError("jsonPath: "+l.message+": "+e.replace(/(^|[^\\])@/g,"$1_v").replace(/\\@/g,"@"))}}},s=e;return t&&e&&("VALUE"==o.resultType.toUpperCase()||"PATH"==o.resultType.toUpperCase())?(o.trace(o.normalize(t).replace(/^\$;?/,""),e,"$"),o.result.length?o.result:!1):void 0}var n=function(){return function(e,t,n){return this.cache=this.cache||{},r(t,n,e,this.cache)}}(),o=function(e){"use strict";function t(){if("undefined"==typeof n)throw new Error("JSONPath is required: ()");return n}function r(t,n){for(var o in n)if("object"!=typeof t[o])t[o]=t[o]===e?n[o]:t[o];else{if(m.call(t[o])==l){delete t[o];continue}t[o]=r(t[o],n[o])}return t}function o(e){return JSON.parse(JSON.stringify(e))}function s(e,t,r){s.setOptions(r,t);var n=d(s.getState(t),e||{});s.map(t,n)}function a(t,r,n){var o=JSON.stringify({proc:r,parms:n});if(v[o]=v[o]={},!v[o].fun)try{v[o].fun=Function(r.code)}catch(s){return new Error("code error: "+s,"praetor.js:createFunctionExec",265)}n=n||{};for(var a in r.parms)n[a]=n[a]===e?r.parms[a]:n[a];var i={results:t,params:n},l=v[o].fun.apply(i);return l?l:i.results}var i="[object Object]",l="[object Null]",c="[object Array]",u="[object String]",m={}.toString,d=function(e,t){for(var r in t)if("object"!=typeof e[r])e[r]=t[r];else if("object"==typeof t[r]){if(m.call(t[r])==l){delete e[r];continue}e[r]=d(e[r],t[r])}return e},p="rootid",f={jsonPathOptions:{}},h={},g={};s.model=function(){return{stores:{},queries:{},procs:{}}},s.setOptions=function(e,t){h=e,s.settings(e,t)},s.getOptions=function(){return h},s.settings=function(e){return g=d(f,e)},s.map=function(e,t){return this.state=this.state||{},e?(this.state[e]=t||this.state[e]||s.model(),this.state[e]):(this.state[p]=t||this.state[p]||s.model(),this.state[p])},s.setState=function(e,t){var n=r(e||{},s.model());s.map(t,n)},s.getState=function(e){return o(s.map(e))},s.setDataStore=function(e,t,r){s.map(r).stores[e]=t},s.getDataStore=function(e,t){return s.map(t).stores[e]},s.removeDataStore=function(e,t){delete s.map(t).stores[e]},s.emptyDataStore=function(e,t){s.map(t).stores[e]={}},s.setJsonQuery=function(e,t,r,n){s.map(n).queries[e]={query:t,store:r}},s.getJsonQuery=function(e,t){return s.map(t).queries[e]},s.getJsonQueryResult=function(e,r,n){var o=s.getJsonQuery(e,n),a=s.getDataStore(o.store,n);for(var i in r)o.query=o.query.split(i).join(r[i]);var l=t()(s.settings().jsonPathOptions,a,o.query);return l},s.setStoredProc=function(e,t,r,n,o){s.map(o).procs[e]={queries:m.call(t)==c?t:t.split(","),code:r,parms:n}},s.getStoredProc=function(e,t){return s.map(t).procs[e]},s.getStoredProcResult=function(e,t,r){var n=s.getStoredProc(e,r),o=[];return o=n.queries.map(function(e){var n={};return n[e]=s.getJsonQueryResult(e,t,r),n}),a(o,n,t)},s.proc=function(e,r,n,o,l,d){if(1==arguments.length&&m.call(e)==i)return s.getStoredProcResult(e.name,e.parms,e.id);if(e&&!s.getStoredProc(e,d)){var p={};return p[e]=s.setStoredProc(e,n,o,l,d),p}m.call(r)==u&&(r=s.getDataStore(r,d)),m.call(n)!=c&&(n=n.split(","));var f=n.map(function(e){if(s.getJsonQuery(e,d))return s.getJsonQueryResult(e,l,d);for(var n in l)e=e.split(n).join(l[n]);return t()(s.settings().jsonPathOptions,r,e)}),h={parms:l,code:o};return a(f,h,l)};var v={};return s}();"undefined"!=typeof t&&null!==t&&t.exports?t.exports=o:"function"==typeof define&&define.amd&&define(function(){return o})},{}],"/Users/mglazer/Documents/code/praetor.js/src/data/books.json":[function(e,t){t.exports={store:{book:[{category:"reference",author:"Nigel Rees",title:"Sayings of the Century",price:8.95},{category:"fiction",author:"Evelyn Waugh",title:"Sword of Honour",price:12.99},{category:"fiction",author:"Herman Melville",title:"Moby Dick",isbn:"0-553-21311-3",price:8.99},{category:"fiction",author:"J. R. R. Tolkien",title:"The Lord of the Rings",isbn:"0-395-19395-8",price:22.99}],bicycle:{color:"red",price:19.95}}}},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/autocompleter.js":[function(e,t){m=e("mithril");var r=function(){var e={};return e.vm={term:m.prop(""),field:"name",search:function(t){e.vm.term(t.toLowerCase())},filter:function(t){return e.vm.term()&&t[e.vm.field].toLowerCase().indexOf(e.vm.term())>-1}},e.view=function(t){return[m("div",[m("input",{placeholder:t.placeholder,oninput:m.withAttr("value",e.vm.search)})]),t.data().filter(e.vm.filter).map(function(e){return m("div",{onclick:t.binds.bind(this,e)},e[t.field])})]},e};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/linknav.js":[function(e,t){m=e("mithril"),mapActions=function(e){var t=(e||{}).selectedIndex;return linkMap=(e||{}).linkMap,style=(e||{}).style,"select"==style?m("select.silver",{onchange:function(){t(this.selectedIndex),m.route(linkMap[this.selectedIndex].link)}},[linkMap.map(function(e,r){return m("option",{selected:t()==r?!0:!1,config:m.route,value:r,innerHTML:e.text})})]):[m("ol",linkMap.map(function(e,t){return m("li",{key:t,config:m.route},m("a.action",{onclick:function(e){ctrl.type=e,ctrl.id(t)}.bind(this,e.type)},e.text))}))]},t.exports=mapActions},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js":[function(e,t){m=e("mithril");var r=function(){var e={};return e.model={elementType:"button",className:".messages"},e.controller=function(t){this.elementType=t.elementType?t.elementType:e.model.elementType,this.className=t.className?t.className:e.model.className,this.message=t.message,this.pass=t.pass,this.fail=t.fail},e.view=function(e){var t=e.pass()?e.message.pass:e.fail()?e.message.fail:"",r=e.pass()?"success":"error";return t?m(e.elementType+e.className,{"class":r},t):m("")},e};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/state-fun.js":[function(e,t){t.exports=function(){var e={};return e.controller=function(){this.state=p.getState()},e.view=function(e){return m(".state",Object.keys(e.state).map(function(t){var r=JSON.stringify(e.state[t]);return m("li",{title:r},t,m("textarea.json",r))}))},e}},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js":[function(e,t){m=e("mithril"),utils=e("../utils");var r={controller:function(e,t){this.tabs=e.tabs,this.changeTab=e.changeTab,this.mod=r.choose(e.key,e.tabs,t)},view:function(e,t){return m(".tabbed",m(".tabs",[r.tabs({tabs:e.tabs,selectedItem:t.key,onchange:e.changeTab})]),m("section",e.mod))}};r.tabs=function(e){return m("ul",e.tabs.map(function(t){return m("li",[r.tab(e,t.name)])}))},r.tab=function(e,t){return m("a",{"class":e.selectedItem==t?"selected":"",onclick:e.onchange.bind(this,t)},t)},r.choose=function(e,t,r){var n;t.forEach(function(t,o){return t.name==e&&(void 0===r.key&&(r.key=o),n=t.content)});var o=utils.isFunction(n)?n():n;return m.module(o,r)},t.exports=r},{"../utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/main.js":[function(e,t){t.exports={persist:e("./persistence"),utils:e("./utils"),dash:e("./modules/dashboard/app"),store:e("./modules/store/app"),query:e("./modules/query/app"),home:e("./modules/welcome/app"),demo:e("./modules/demo/app")}},{"./modules/dashboard/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/dashboard/app.js","./modules/demo/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/app.js","./modules/query/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/app.js","./modules/store/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/app.js","./modules/welcome/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/welcome/app.js","./persistence":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js","./utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/dashboard/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),utils=e("../../utils.js"),autocompleter=e("../../components/autocompleter");var r=function(){var e={},t='$..data.movies[?(@.genres.indexOf("PARM")>-1)]';e.listEven=function(){return utils.m.requestWithFeedback({method:"GET",url:"./data/movies.json"}).then(function(e){var r=p.proc(null,e,[t],null,{PARM:"Drama"});return r[0]})};var r={data:{},controller:function(){this.onunload=function(){document.getElementsByClassName("content")[0].style.backgroundColor="#ffffff"}.bind(this),this.showHide=function(){return!!(this.toggle=!this.toggle||!1)}.bind(this),this.error=m.prop(""),this.selectedProject=m.prop(),this.projectAC=new autocompleter,this.projectAC.vm.field="title",this.projects=e.listEven().then(function(e){return e},this.error)},view:function(e){return m(".card",{config:function(){document.getElementsByClassName("content")[0].style.backgroundColor="#f1f1f3"}},[m("span.card-color",m("h1.cards.card-color-title","New Movies")),m(".card-content",[m("p.cards","Search newest: ",e.projectAC.view({field:"title",data:e.projects,binds:e.selectedProject,placeholder:"Filter by Genre"})),m("h4.cards",{onclick:e.showHide},"See run time code",e.toggle?m("textarea.json",t):"")])])}};return r};t.exports=r},{"../../components/autocompleter":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/autocompleter.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js","../../utils.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/app.js":[function(e,t){m=e("mithril"),tabbed=e("../../components/tabs"),stateFun=e("../../components/state-fun"),utils=e("../../utils"),books=e("../../../data/books");
var r=e("../../modules/demo/list"),n=e("../../modules/demo/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:n},{name:"results",content:r},{name:"state",content:stateFun}]},controller:function(t){this.data=e.data,this.list=m.prop((t.state().demoresults||[]).list),this.code=m.prop((t.state().demoresults||{}).code),this.state=m.prop({}),this.data.selectedItem=t.sub||e.data.selectedItem,this.changeTab=function(e){this.data.selectedItem=e,t.state({demoresults:{list:this.list(),code:this.code()}}),m.route("/"+t.top+"/"+e)}.bind(this)},view:function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{state:e.state,list:e.list,code:e.code,actions:e.actions,changeTab:e.changeTab}))}};return e};t.exports=o},{"../../../data/books":"/Users/mglazer/Documents/code/praetor.js/src/data/books.json","../../components/state-fun":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/state-fun.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/demo/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/form.js","../../modules/demo/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/list.js","../../utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/form.js":[function(e,t){var r=function(){var e={};e.booksString=JSON.stringify(books),e.books=JSON.parse(e.booksString);var t={name:"demo-form"};return t.controller=function(r){this.model=r.state()[t.name]||{store:m.prop(""),queries:m.prop(""),code:m.prop("")},r.state({"demo-form":this.model}),this.results=m.prop(""),this.pass=m.prop(""),this.fail=m.prop(""),this.prefill=function(){this.model.store(e.booksString),this.model.queries("$..title"),this.model.code("this.results[0].reverse()")}.bind(this),this.save=function(){this.model.store()&&this.model.queries()&&this.model.code()?(this.results(p.proc(null,JSON.parse(this.model.store()),this.model.queries().split(","),this.model.code())),this.pass(!0),r.code("p.proc(null,"+this.model.store()+",'"+this.model.queries().split(",")+"', '"+this.model.code()+"')"),r.list(this.results()),r.changeTab("results")):this.fail(!0)}.bind(this)},t.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Run anon procedure - p.proc(null,JSONData,JSONPathQueries,JSCode)",[m("button.warning",{onclick:e.prefill},"pre-fill sample"),m('textarea[placeholder="JSON data"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m('input[placeholder="JSONPath queries (comma separated)"]',{onchange:m.withAttr("value",e.model.queries),value:e.model.queries()}),m('textarea[placeholder="JS Code Procedure block (this.results array)"]',{onchange:m.withAttr("value",e.model.code),value:e.model.code()}),m("button",{onclick:e.save},"Run")]])},t};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/list.js":[function(e,t){var r=function(){var e={};return e.controller=function(){this.setArea=function(e){utils.resizeTextarea(e.id)}},e.view=function(e,t){return m(".results",[m("textarea#list",{config:e.setArea},JSON.stringify(t.list())),m("textarea#code",{config:e.setArea},t.code())])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs");var r=e("../../modules/query/list"),n=e("../../modules/query/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:n},{name:"list",content:r}]},controller:function(t){this.data=e.data,this.actions=persist.model("queries"),this.list=this.actions.getList(),p({queries:this.list}),this.data.selectedItem=t.sub||e.data.selectedItem,this.changeTab=function(e){this.data.selectedItem=e,m.route("/"+t.top+"/"+e)}.bind(this)},view:function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,actions:e.actions}))}};return e};t.exports=o},{"../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/query/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/form.js","../../modules/query/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/form.js":[function(e,t){var r=function(){var e={};return e.controller=function(e){this.model={name:m.prop(""),query:m.prop(""),store:m.prop("")},this.actions=e.actions,this.list=e.list,this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.store()&&this.model.query()?(this.list[this.model.name()]={query:this.model.query(),store:this.model.store()},this.actions.saveList(this.list),p.setJsonQuery(this.model.name(),this.model.query(),this.model.store())):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Add query - p.setJsonQuery(queryName, JSONPathQuery, JSONDataStoreName) - (JSONPath syntax)",[m('input[placeholder="query name"]',{onchange:m.withAttr("value",e.model.name),value:e.model.name()}),m('textarea[placeholder="JSONPath Query"]',{onchange:m.withAttr("value",e.model.query),value:e.model.query()}),m('input[placeholder="JSON store name"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m("button",{onclick:e.save},"Add")]])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/list.js":[function(e,t){var r=function(){var e={name:"queries"};return e.controller=function(){this[e.name]=p.getState()[e.name],this.title=e.name,this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(t,r){return m("ul."+e.name+"-list",{},m("h3",t.title),Object.keys(r.list).map(function(e){var n={};n[e]=r.list[e];var o=JSON.stringify(n);return m("li",{title:o,onclick:t.showHide.bind(this,e)},e,t.showJson==e?m("textarea.json",o):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs"),books=e("../../../data/books");var r=e("../../modules/store/list"),n=e("../../modules/store/form"),o=function(){var e={},t={selectedItem:"create",tabs:[{name:"create",content:n},{name:"list",content:r}]};return e.controller=function(e){this.data=t,this.actions=persist.model("stores"),this.list=this.actions.getList(),p({stores:this.list}),this.data.selectedItem=e.sub||t.selectedItem,this.changeTab=function(t){this.data.selectedItem=t,m.route("/"+e.top+"/"+t)}.bind(this)},e.view=function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,actions:e.actions}))},e};t.exports=o},{"../../../data/books":"/Users/mglazer/Documents/code/praetor.js/src/data/books.json","../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/store/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/form.js","../../modules/store/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/form.js":[function(e,t){var r=function(){var e={};return e.controller=function(e){this.model={name:m.prop(""),store:m.prop("")},this.actions=e.actions,this.list=e.list,this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.store()?(this.list[this.model.name()]=this.model.store(),this.actions.saveList(this.list),p.setDataStore(this.model.name(),JSON.parse(this.model.store()))):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Add store - p.setDataStore(storeName, JSONData)",[m('input[placeholder="store name"]',{onchange:m.withAttr("value",e.model.name),value:e.model.name()}),m('textarea[placeholder="JSON data"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m("button",{onclick:e.save},"Add")]])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/list.js":[function(e,t){var r=function(){var e={};return e.controller=function(){this.stores=p.getState().stores,this.title="Stores",this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(e,t){return m("ul.store-list",{},m("h3",e.title),Object.keys(t.list).map(function(r){var n=t.list[r];return m("li",{title:n,onclick:e.showHide.bind(this,r)},r,e.showJson==r?m("textarea.json",n):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/welcome/app.js":[function(e,t){var r=function(){var e={};return e.controller=function(){},e.view=function(){return m(".content",[m(".panel","Welcome to the PraetorJS administration editor demo page!",[m("p","We will walk through some simple examples to demonstrate the way you can create and recall procedures"),m("p","Check out the tools in the menu to the left."),m('a[href="http://goessner.net/articles/JsonPath/"]',"JSONPath reference to create queries."),m(".row",{style:"padding-top:20px"},[m(".step",m("h1","1. Define"),m("code",'p.proc("getTopDramaMovies","movies","byDrama")')),m(".step",m("h1","2. Inflate"),m("code",'p({stores:{movies:data},queries:{"byDrama":{store:"movies",query:"$..movies[?(@.genres.indexOf(PARM)>-1)]"}}}) // allows the store to be used elsewhere by other praetors')),m(".step",m("h1","3. Run"),m("code",'p.proc({name:"getTopDramaMovies", parms:{PARM:"Drama"}})[0].byDrama.length'))])])])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js":[function(e,t){m=e("mithril"),p=e("praetor");var r={};r.init=function(){var e=["stores","queries","procs"],t={};e.forEach(function(e){if(t[e]=localStorage[e]?JSON.parse(localStorage[e]):{},"stores"==e)for(k in t[e])t[e][k]=JSON.parse(t[e][k])}),console.log("state set")},r.model=function(e){return{saveList:function(t){localStorage[e]=JSON.stringify(t)},getList:function(){return localStorage[e]?JSON.parse(localStorage[e]):{}}}},t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js":[function(e,t){var r={};r.m={},r.m.layout=function(e,t){return m(".container",[m(".nav",e),m(".content",t)])},r.m.mixinLayout=function(e,t,r){return function(){return e(t(),r())}},r.m.binds=function(e){return{onchange:function(t){e[t.target.id](t.target.value)}}},r.m.viewModelMap=function(e){var t={};return function(r){if(!t[r]){t[r]={};for(var n in e)t[r][n]=m.prop(e[n]())}return t[r]}},r.m.requestWithFeedback=function(e){var t=JSON.stringify(e);if(!r.m.requestWithFeedback.cache[t]){for(var n,o=document.querySelectorAll(".loader"),s=0;n=o[s];s++)n.style.display="block";var a=function(e){if(delete r.m.requestWithFeedback.cache[t],0==Object.keys(r.m.requestWithFeedback.cache).length)for(var n,s=0;n=o[s];s++)n.style.display="none";return e};r.m.requestWithFeedback.cache[t]=m.request(e).then(a,function(e){throw a(e),e})}return r.m.requestWithFeedback.cache[t]},r.m.requestWithFeedback.cache={},r.types={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",FUNCTION:"function"},r.type={}.toString,r.isFunction=function(e){return typeof e===r.types.FUNCTION?!0:!1},r.jsonPathValue=function(e){function t(e,t){return e[t]}return string.split(sep||".").reduce(t,e)},r.resizeTextarea=function(e){var t;t=window.attachEvent?function(e,t,r){e.attachEvent("on"+t,r)}:function(e,t,r){e.addEventListener(t,r,!1)};!function(e){function r(){o.style.height="auto",o.style.height=o.scrollHeight+"px"}function n(){window.setTimeout(r,0)}var o=document.getElementById(e);t(o,"change",r),t(o,"cut",n),t(o,"paste",n),t(o,"drop",n),t(o,"keydown",n),r()}(e)},t.exports=r},{}]},{},["./src/scripts/app.js"]);