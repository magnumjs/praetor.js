!function e(t,r,s){function o(a,i){if(!r[a]){if(!t[a]){var c="function"==typeof require&&require;if(!i&&c)return c(a,!0);if(n)return n(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=r[a]={exports:{}};t[a][0].call(u.exports,function(e){var r=t[a][1][e];return o(r?r:e)},u,u.exports,e,t,r,s)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<s.length;a++)o(s[a]);return o}({"./src/scripts/app.js":[function(e){m=e("mithril"),links=e("./components/linknav"),main=e("./main");var t=main.persist,r=main.demo,s=main.utils,o=main.store,n=main.dash,a=main.home,i=main.query,c=main.proc,l=[{text:"Welcome page",type:a,link:"/welcome"},{text:"Simple Demo",type:r,link:"/demo"},{text:"API::Create Stores",type:o,link:"/store"},{text:"API::Create Queries",type:i,link:"/query"},{text:"API::Create Procs",type:c,link:"/proc"},{text:"Dashboard Card Demo",type:n,link:"/dash"}],u={state:m.prop({})};u.controller=function(){t.init(),this.id=m.prop(0)}();var d={selectedIndex:m.prop(0)};d.controller=function(){var e=m.route.param("key"),t=m.route.param("sub");l.forEach(function(t,r){return t.link=="/"+e?d.selectedIndex(r):null}),this.message=m.module(l[d.selectedIndex()].type(),{top:e,sub:t,state:u.state})},d.view=function(e){var t=function(){return m("section",{key:d.selectedIndex()},e.message)},r=function(){return m(".welcome",[m("h1","Praetor Admin Editor"),m("h3",{title:"reference procs to manipulate data in pre-determined ways"},"JSON Path Stored Procedures"),links({linkMap:l,style:"select",selectedIndex:d.selectedIndex}),m("button.silver",{onclick:function(){m.route(l[d.selectedIndex()].link)}},"Go"),m('a[href="https://github.com/magnumjs/praetor.js"]',"PraetorJS gitHub")])};return s.m.mixinLayout(s.m.layout,r,t)()},m.route(document.body,"/welcome",{"/:key":d,"/:key/:sub":d})},{"./components/linknav":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/linknav.js","./main":"/Users/mglazer/Documents/code/praetor.js/src/scripts/main.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js":[function(e,t){var r=function s(e,t){function r(e){O=e.document,T=e.location,C=e.cancelAnimationFrame||e.clearTimeout,q=e.requestAnimationFrame||e.setTimeout}function o(){var e,t=[].slice.call(arguments),r=!(null==t[1]||L.call(t[1])!==A||"tag"in t[1]||"view"in t[1]||"subtree"in t[1]),s=r?t[1]:{},o="class"in s?"class":"className",n={tag:"div",attrs:{}},a=[];if(L.call(t[0])!=J)throw new Error("selector in m(selector, attrs, children) should be a string");for(;e=P.exec(t[0]);)if(""===e[1]&&e[2])n.tag=e[2];else if("#"===e[1])n.attrs.id=e[2];else if("."===e[1])a.push(e[2]);else if("["===e[3][0]){var i=M.exec(e[3]);n.attrs[i[1]]=i[3]||(i[2]?"":!0)}a.length>0&&(n.attrs[o]=a.join(" "));var c=r?t.slice(2):t.slice(1);n.children=1===c.length&&L.call(c[0])===E?c[0]:c;for(var l in s)l===o?""!==s[l]&&(n.attrs[l]=(n.attrs[l]||"")+" "+s[l]):n.attrs[l]=s[l];return n}function n(e,r,s,l,m,d,p,f,h,g,v){try{(null==m||null==m.toString())&&(m="")}catch(y){m=""}if("retain"===m.subtree)return d;var j=L.call(d),b=L.call(m);if(null==d||j!==b){if(null!=d)if(s&&s.nodes){var w=f-l,x=w+(b===E?m:d.nodes).length;c(s.nodes.slice(w,x),s.slice(w,x))}else d.nodes&&c(d.nodes,d);d=new m.constructor,d.tag&&(d={}),d.nodes=[]}if(b===E){for(var k=0,D=m.length;D>k;k++)L.call(m[k])===E&&(m=m.concat.apply([],m),k--,D=m.length);for(var S=[],U=d.length===m.length,N=0,z=1,T=2,q=3,C={},P=[],M=!1,k=0;k<d.length;k++)d[k]&&d[k].attrs&&null!=d[k].attrs.key&&(M=!0,C[d[k].attrs.key]={action:z,index:k});if(M){m.indexOf(null)>-1&&(m=m.filter(function(e){return null!=e}));var F=!1;if(m.length!=d.length)F=!0;else for(var $,_,k=0;$=d[k],_=m[k];k++)if($.attrs&&_.attrs&&$.attrs.key!=_.attrs.key){F=!0;break}if(F){for(var k=0,D=m.length;D>k;k++)if(m[k]&&m[k].attrs)if(null!=m[k].attrs.key){var H=m[k].attrs.key;C[H]=C[H]?{action:q,index:k,from:C[H].index,element:d.nodes[C[H].index]||O.createElement("div")}:{action:T,index:k}}else P.push({index:k,element:e.childNodes[k]||O.createElement("div")});var B=[];for(var Q in C)B.push(C[Q]);for(var W,G=B.sort(a),K=new Array(d.length),k=0;W=G[k];k++){if(W.action===z&&(c(d[W.index].nodes,d[W.index]),K.splice(W.index,1)),W.action===T){var V=O.createElement("div");V.key=m[W.index].attrs.key,e.insertBefore(V,e.childNodes[W.index]||null),K.splice(W.index,0,{attrs:{key:m[W.index].attrs.key},nodes:[V]})}W.action===q&&(e.childNodes[W.index]!==W.element&&null!==W.element&&e.insertBefore(W.element,e.childNodes[W.index]||null),K[W.index]=d[W.from])}for(var k=0,D=P.length;D>k;k++){var W=P[k];e.insertBefore(W.element,e.childNodes[W.index]||null),K[W.index]=d[W.index]}d=K,d.nodes=new Array(e.childNodes.length);for(var Y,k=0;Y=e.childNodes[k];k++)d.nodes[k]=Y}}for(var k=0,Z=0,D=m.length;D>k;k++){var et=n(e,r,d,f,m[k],d[Z],p,f+N||N,h,g,v);et!==t&&(et.nodes.intact||(U=!1),N+=et.$trusted?(et.match(/<[^\/]|\>\s*[^<]|&/g)||[]).length:L.call(et)===E?et.length:1,d[Z++]=et)}if(!U){for(var k=0,D=m.length;D>k;k++)null!=d[k]&&S.push.apply(S,d[k].nodes);for(var tt,k=0;tt=d.nodes[k];k++)null!=tt.parentNode&&S.indexOf(tt)<0&&c([tt],[d[k]]);m.length<d.length&&(d.length=m.length),d.nodes=S}}else if(null!=m&&b===A){if(m.view){var st,ot=m,nt=ot.controller.$original||ot.controller,at=nt===d.controllerConstructor?d.controller:new(ot.controller||function(){});if(m=0==rt?ot.view(at):{tag:"placeholder"},at.onunload&&X.push({controller:at,handler:at.onunload}),!m.tag)throw new Error("Component template must return a virtual element, not an array, string, etc.")}m.attrs||(m.attrs={}),d.attrs||(d.attrs={});var it=Object.keys(m.attrs),ct=it.length>("key"in m.attrs?1:0);if((m.tag!=d.tag||it.join()!=Object.keys(d.attrs).join()||m.attrs.id!=d.attrs.id||m.attrs.key!=d.attrs.key||"all"==o.redraw.strategy()&&d.configContext&&d.configContext.retain!==!0||"diff"==o.redraw.strategy()&&d.configContext&&d.configContext.retain===!1)&&(d.nodes.length&&c(d.nodes),d.configContext&&typeof d.configContext.onunload===I&&d.configContext.onunload(),d.controller&&typeof d.controller.onunload===I&&d.controller.onunload({preventDefault:function(){}})),L.call(m.tag)!=J)return;var tt,lt=0===d.nodes.length;if(m.attrs.xmlns?g=m.attrs.xmlns:"svg"===m.tag?g="http://www.w3.org/2000/svg":"math"===m.tag&&(g="http://www.w3.org/1998/Math/MathML"),lt){if(tt=m.attrs.is?g===t?O.createElement(m.tag,m.attrs.is):O.createElementNS(g,m.tag,m.attrs.is):g===t?O.createElement(m.tag):O.createElementNS(g,m.tag),d={tag:m.tag,attrs:ct?i(tt,m.tag,m.attrs,{},g):m.attrs,children:null!=m.children&&m.children.length>0?n(tt,m.tag,t,t,m.children,d.children,!0,0,m.attrs.contenteditable?tt:h,g,v):m.children,nodes:[tt]},at&&(d.controllerConstructor=nt,d.controller=at,at.onunload&&at.onunload.$old&&(at.onunload=at.onunload.$old),rt&&at.onunload)){var st=at.onunload;at.onunload=function(){},at.onunload.$old=st}d.children&&!d.children.nodes&&(d.children.nodes=[]),"select"===m.tag&&m.attrs.value&&i(tt,m.tag,{value:m.attrs.value},{},g),e.insertBefore(tt,e.childNodes[f]||null)}else tt=d.nodes[0],ct&&i(tt,m.tag,m.attrs,d.attrs,g),d.children=n(tt,m.tag,t,t,m.children,d.children,!1,0,m.attrs.contenteditable?tt:h,g,v),d.nodes.intact=!0,at&&(d.controllerConstructor=nt,d.controller=at),p===!0&&null!=tt&&e.insertBefore(tt,e.childNodes[f]||null);if(typeof m.attrs.config===I){var ut=d.configContext=d.configContext||{retain:"diff"==o.redraw.strategy()},mt=function(e,t){return function(){return e.attrs.config.apply(e,t)}};v.push(mt(m,[tt,!lt,ut,d]))}}else if(typeof m!=I){var S;0===d.nodes.length?(m.$trusted?S=u(e,f,m):(S=[O.createTextNode(m)],e.nodeName.match(R)||e.insertBefore(S[0],e.childNodes[f]||null)),d="string number boolean".indexOf(typeof m)>-1?new m.constructor(m):m,d.nodes=S):d.valueOf()!==m.valueOf()||p===!0?(S=d.nodes,h&&h===O.activeElement||(m.$trusted?(c(S,d),S=u(e,f,m)):"textarea"===r?e.value=m:h?h.innerHTML=m:((1===S[0].nodeType||S.length>1)&&(c(d.nodes,d),S=[O.createTextNode(m)]),e.insertBefore(S[0],e.childNodes[f]||null),S[0].nodeValue=m)),d=new m.constructor(m),d.nodes=S):d.nodes.intact=!0}return d}function a(e,t){return e.action-t.action||e.index-t.index}function i(e,t,r,s,o){for(var n in r){var a=r[n],i=s[n];if(n in s&&i===a)"value"===n&&"input"===t&&e.value!=a&&(e.value=a);else{s[n]=a;try{if("config"===n||"key"==n)continue;if(typeof a===I&&0===n.indexOf("on"))e[n]=m(a,e);else if("style"===n&&null!=a&&L.call(a)===A){for(var c in a)(null==i||i[c]!==a[c])&&(e.style[c]=a[c]);for(var c in i)c in a||(e.style[c]="")}else null!=o?"href"===n?e.setAttributeNS("http://www.w3.org/1999/xlink","href",a):"className"===n?e.setAttribute("class",a):e.setAttribute(n,a):n in e&&"list"!==n&&"style"!==n&&"form"!==n&&"type"!==n&&"width"!==n&&"height"!==n?("input"!==t||e[n]!==a)&&(e[n]=a):e.setAttribute(n,a)}catch(l){if(l.message.indexOf("Invalid argument")<0)throw l}}}return s}function c(e,t){for(var r=e.length-1;r>-1;r--)if(e[r]&&e[r].parentNode){try{e[r].parentNode.removeChild(e[r])}catch(s){}t=[].concat(t),t[r]&&l(t[r])}0!=e.length&&(e.length=0)}function l(e){if(e.configContext&&typeof e.configContext.onunload===I&&(e.configContext.onunload(),e.configContext.onunload=null),e.controller&&typeof e.controller.onunload===I&&e.controller.onunload({preventDefault:function(){}}),e.children)if(L.call(e.children)===E)for(var t,r=0;t=e.children[r];r++)l(t);else e.children.tag&&l(e.children)}function u(e,t,r){var s=e.childNodes[t];if(s){var o=1!=s.nodeType,n=O.createElement("span");o?(e.insertBefore(n,s||null),n.insertAdjacentHTML("beforebegin",r),e.removeChild(n)):s.insertAdjacentHTML("beforebegin",r)}else e.insertAdjacentHTML("beforeend",r);for(var a=[];e.childNodes[t]!==s;)a.push(e.childNodes[t]),t++;return a}function m(e,t){return function(r){r=r||event,o.redraw.strategy("diff"),o.startComputation();try{return e.call(t,r)}finally{st()}}}function d(e){var t=_.indexOf(e);return 0>t?_.push(e)-1:t}function p(e){var t=function(){return arguments.length&&(e=arguments[0]),e};return t.toJSON=function(){return e},t}function f(e,t){var r=function(){return(e.controller||function(){}).apply(this,t)||this},s=function(r){arguments.length>1&&(t=t.concat([].slice.call(arguments,1)));var s=e.view.apply(e,t?[r].concat(t):[r]);return t[0]&&null!=t[0].key&&(s.attrs.key=t[0].key),s};r.$original=e.controller;var o={controller:r,view:s};return t[0]&&null!=t[0].key&&(o.attrs={key:t[0].key}),o}function h(){for(var e,t=0;e=Q[t];t++)if(G[t]){var r=W[t].controller&&W[t].controller.$$args?[G[t]].concat(W[t].controller.$$args):[G[t]];o.render(e,W[t].view?W[t].view(G[t],r):tt())}Y&&(Y(),Y=null),K=null,V=new Date,o.redraw.strategy("diff")}function g(e){return e.slice(at[o.route.mode].length)}function v(e,t,r){ot={};var s=r.indexOf("?");-1!==s&&(ot=w(r.substr(s+1,r.length)),r=r.substr(0,s));var n=Object.keys(t),a=n.indexOf(r);if(-1!==a)return o.module(e,t[n[a]]),!0;for(var i in t){if(i===r)return o.module(e,t[i]),!0;var c=new RegExp("^"+i.replace(/:[^\/]+?\.{3}/g,"(.*?)").replace(/:[^\/]+/g,"([^\\/]+)")+"/?$");if(c.test(r))return r.replace(c,function(){for(var r=i.match(/:[^\/]+/g)||[],s=[].slice.call(arguments,1,-2),n=0,a=r.length;a>n;n++)ot[r[n].replace(/:|\./g,"")]=decodeURIComponent(s[n]);o.module(e,t[i])}),!0}}function y(e){if(e=e||event,!e.ctrlKey&&!e.metaKey&&2!==e.which){e.preventDefault?e.preventDefault():e.returnValue=!1;for(var t=e.currentTarget||e.srcElement,r="pathname"===o.route.mode&&t.search?w(t.search.slice(1)):{};t&&"A"!=t.nodeName.toUpperCase();)t=t.parentNode;o.route(t[o.route.mode].slice(at[o.route.mode].length),r)}}function j(){"hash"!=o.route.mode&&T.hash?T.hash=T.hash:e.scrollTo(0,0)}function b(e,t){var r=[];for(var s in e){var o=t?t+"["+s+"]":s,n=e[s],a=L.call(n),i=null!=n&&a===A?b(n,o):a===E?n.map(function(e){return encodeURIComponent(o+"[]")+"="+encodeURIComponent(e)}).join("&"):encodeURIComponent(o)+"="+encodeURIComponent(n);r.push(i)}return r.join("&")}function w(e){for(var t=e.split("&"),r={},s=0,o=t.length;o>s;s++){var n=t[s].split("=");r[decodeURIComponent(n[0])]=n[1]?decodeURIComponent(n[1]):""}return r}function x(e){var r=d(e);c(e.childNodes,H[r]),H[r]=t}function k(e){var t=o.prop();return e.then(t),t.then=function(r,s){return e=e.then(r,s).then(t),t},t}function D(e,t){function r(e){m=e||l,p.map(function(e){m===c&&e.resolve(d)||e.reject(d)})}function s(e,t,r,s){if((null!=d&&L.call(d)===A||typeof d===I)&&typeof e===I)try{var n=0;e.call(d,function(e){n++||(d=e,t())},function(e){n++||(d=e,r())})}catch(a){o.deferred.onerror(a),d=a,r()}else s()}function n(){var l;try{l=d&&d.then}catch(p){return o.deferred.onerror(p),d=p,m=i,n()}s(l,function(){m=a,n()},function(){m=i,n()},function(){try{m===a&&typeof e===I?d=e(d):m===i&&"function"==typeof t&&(d=t(d),m=a)}catch(n){return o.deferred.onerror(n),d=n,r()}d===u?(d=TypeError(),r()):s(l,function(){r(c)},r,function(){r(m===a&&c)})})}var a=1,i=2,c=3,l=4,u=this,m=0,d=0,p=[];u.promise={},u.resolve=function(e){return m||(d=e,m=a,n()),this},u.reject=function(e){return m||(d=e,m=i,n()),this},u.promise.then=function(e,t){var r=new D(e,t);return m===c?r.resolve(d):m===l?r.reject(d):p.push(r),r.promise}}function S(e){return e}function U(r){if(!r.dataType||"jsonp"!==r.dataType.toLowerCase()){var s=new e.XMLHttpRequest;if(s.open(r.method,r.url,!0,r.user,r.password),s.onreadystatechange=function(){4===s.readyState&&(s.status>=200&&s.status<300?r.onload({type:"load",target:s}):r.onerror({type:"error",target:s}))},r.serialize===JSON.stringify&&r.data&&"GET"!==r.method&&s.setRequestHeader("Content-Type","application/json; charset=utf-8"),r.deserialize===JSON.parse&&s.setRequestHeader("Accept","application/json, text/*"),typeof r.config===I){var o=r.config(s,r);null!=o&&(s=o)}var n="GET"!==r.method&&r.data?r.data:"";if(n&&L.call(n)!=J&&n.constructor!=e.FormData)throw"Request data should be either be a string or FormData. Check the `serialize` option in `m.request`";return s.send(n),s}var a="mithril_callback_"+(new Date).getTime()+"_"+Math.round(1e16*Math.random()).toString(36),i=O.createElement("script");e[a]=function(s){i.parentNode.removeChild(i),r.onload({type:"load",target:{responseText:s}}),e[a]=t},i.onerror=function(){return i.parentNode.removeChild(i),r.onerror({type:"error",target:{status:500,responseText:JSON.stringify({error:"Error making jsonp request"})}}),e[a]=t,!1},i.onload=function(){return!1},i.src=r.url+(r.url.indexOf("?")>0?"&":"?")+(r.callbackKey?r.callbackKey:"callback")+"="+a+"&"+b(r.data||{}),O.body.appendChild(i)}function N(e,t,r){if("GET"===e.method&&"jsonp"!=e.dataType){var s=e.url.indexOf("?")<0?"?":"&",o=b(t);e.url=e.url+(o?s+o:"")}else e.data=r(t);return e}function z(e,t){var r=e.match(/:[a-z]\w+/gi);if(r&&t)for(var s=0;s<r.length;s++){var o=r[s].slice(1);e=e.replace(r[s],t[o]),delete t[o]}return e}var O,T,q,C,A="[object Object]",E="[object Array]",J="[object String]",I="function",L={}.toString,P=/(?:(^|#|\.)([^#\.\[\]]+))|(\[.+?\])/g,M=/\[(.+?)(?:=("|'|)(.*?)\2)?\]/,R=/^(AREA|BASE|BR|COL|COMMAND|EMBED|HR|IMG|INPUT|KEYGEN|LINK|META|PARAM|SOURCE|TRACK|WBR)$/;r(e);var F,$={appendChild:function(e){F===t&&(F=O.createElement("html")),O.documentElement&&O.documentElement!==e?O.replaceChild(e,O.documentElement):O.appendChild(e),this.childNodes=O.childNodes},insertBefore:function(e){this.appendChild(e)},childNodes:[]},_=[],H={};o.render=function(e,r,s){var o=[];if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");var a=d(e),i=e===O,l=i||e===O.documentElement?$:e;i&&"html"!=r.tag&&(r={tag:"html",attrs:{},children:r}),H[a]===t&&c(l.childNodes),s===!0&&x(e),H[a]=n(l,null,t,t,r,H[a],!1,0,null,t,o);for(var u=0,m=o.length;m>u;u++)o[u]()},o.trust=function(e){return e=new String(e),e.$trusted=!0,e},o.prop=function(e){return(null!=e&&L.call(e)===A||typeof e===I)&&typeof e.then===I?k(e):p(e)};var B,Q=[],W=[],G=[],K=null,V=0,Y=null,X=[],Z=16;o.module=function(e,t){if(!e)throw new Error("Please ensure the DOM element exists before rendering a template into it.");if(e.view)return f(e,[].slice.call(arguments,1));var r=Q.indexOf(e);0>r&&(r=Q.length);for(var s,n=!1,a={preventDefault:function(){n=!0}},i=0;s=X[i];i++)s.handler(a),s.controller.onunload=null;if(n)for(var s,i=0;s=X[i];i++)s.controller.onunload=s.handler;else X=[];if(G[r]&&typeof G[r].onunload===I&&G[r].onunload(a),!n){o.redraw.strategy("all"),o.startComputation(),Q[r]=e,arguments.length>2&&(t=f(t,[].slice.call(arguments,2)));var c=B=t=t||{},l=t.controller||function(){},u=new l;return c===B&&(G[r]=u,W[r]=t),st(),G[r]}};var et=!1;o.redraw=function(t){et||(et=!0,K&&t!==!0?(new Date-V>Z||q===e.requestAnimationFrame)&&(K>0&&C(K),K=q(h,Z)):(h(),K=q(function(){K=null},Z)),et=!1)},o.redraw.strategy=o.prop();var tt=function(){return""},rt=0;o.startComputation=function(){rt++},o.endComputation=function(){rt=Math.max(rt-1,0),0===rt&&o.redraw()};var st=function(){"none"==o.redraw.strategy()?(rt--,o.redraw.strategy("diff")):o.endComputation()};o.withAttr=function(e,t){return function(r){r=r||event;var s=r.currentTarget||this;t(e in s?s[e]:s.getAttribute(e))}};var ot,nt,at={pathname:"",hash:"#",search:"?"},it=function(){};return o.route=function(){if(0===arguments.length)return nt;if(3===arguments.length&&L.call(arguments[1])===J){var t=arguments[0],r=arguments[1],s=arguments[2];it=function(e){var n=nt=g(e);v(t,s,n)||o.route(r,!0)};var n="hash"===o.route.mode?"onhashchange":"onpopstate";e[n]=function(){var e=T[o.route.mode];"pathname"===o.route.mode&&(e+=T.search),nt!=g(e)&&it(e)},Y=j,e[n]()}else if(arguments[0].addEventListener||arguments[0].attachEvent){{var a=arguments[0];arguments[1],arguments[2]}a.href=("pathname"!==o.route.mode?T.pathname:"")+at[o.route.mode]+this.attrs.href,a.addEventListener?(a.removeEventListener("click",y),a.addEventListener("click",y)):(a.detachEvent("onclick",y),a.attachEvent("onclick",y))}else if(L.call(arguments[0])===J){var i=nt;nt=arguments[0];var c=arguments[1]||{},l=nt.indexOf("?"),u=l>-1?w(nt.slice(l+1)):{};for(var m in c)u[m]=c[m];var d=b(u),p=l>-1?nt.slice(0,l):nt;d&&(nt=p+(-1===p.indexOf("?")?"?":"&")+d);var f=(3===arguments.length?arguments[2]:arguments[1])===!0||i===arguments[0];e.history.pushState?(Y=function(){e.history[f?"replaceState":"pushState"](null,O.title,at[o.route.mode]+nt),j()},it(at[o.route.mode]+nt)):(T[o.route.mode]=nt,it(at[o.route.mode]+nt))}},o.route.param=function(e){if(!ot)throw new Error("You must call m.route(element, defaultRoute, routes) before calling m.route.param()");return ot[e]},o.route.mode="search",o.deferred=function(){var e=new D;return e.promise=k(e.promise),e},o.deferred.onerror=function(e){if("[object Error]"===L.call(e)&&!e.constructor.toString().match(/ Error/))throw e},o.sync=function(e){function t(e,t){return function(o){return a[e]=o,t||(r="reject"),0===--n&&(s.promise(a),s[r](a)),o}}var r="resolve",s=o.deferred(),n=e.length,a=new Array(n);if(e.length>0)for(var i=0;i<e.length;i++)e[i].then(t(i,!0),t(i,!1));else s.resolve([]);return s.promise},o.request=function(e){e.background!==!0&&o.startComputation();var t=o.deferred(),r=e.dataType&&"jsonp"===e.dataType.toLowerCase(),s=e.serialize=r?S:e.serialize||JSON.stringify,n=e.deserialize=r?S:e.deserialize||JSON.parse,a=e.extract||function(e){return 0===e.responseText.length&&n===JSON.parse?null:e.responseText};return e.url=z(e.url,e.data),e=N(e,e.data,s),e.onload=e.onerror=function(r){try{r=r||event;var s=("load"===r.type?e.unwrapSuccess:e.unwrapError)||S,i=s(n(a(r.target,e)),r.target);if("load"===r.type)if(L.call(i)===E&&e.type)for(var c=0;c<i.length;c++)i[c]=new e.type(i[c]);else e.type&&(i=new e.type(i));t["load"===r.type?"resolve":"reject"](i)}catch(r){o.deferred.onerror(r),t.reject(r)}e.background!==!0&&o.endComputation()},U(e),t.promise(e.initialValue),t.promise},o.deps=function(t){return r(e=t||e),e},o.deps.factory=s,o}("undefined"!=typeof window?window:{});"undefined"!=typeof t&&null!==t&&t.exports?t.exports=r:"function"==typeof define&&define.amd&&define(function(){return r})},{}],"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js":[function(e,t){function r(e,t,r,s){var o={resultType:r&&r.resultType||"VALUE",result:[],normalize:function(e){var t=[];return e.replace(/[\['](\??\(.*?\))[\]']|\['(.*?)'\]/g,function(e,r,s){return"[#"+(t.push(r||s)-1)+"]"}).replace(/'?\.'?|\['?/g,";").replace(/;;;|;;/g,";..;").replace(/;$|'?\]|'$/g,"").replace(/#([0-9]+)/g,function(e,r){return t[r]})},asPath:function(e){for(var t=e.split(";"),r="$",s=1,o=t.length;o>s;s++)r+=/^[0-9*]+$/.test(t[s])?"["+t[s]+"]":"['"+t[s]+"']";return r},store:function(e,t){return e&&(o.result[o.result.length]="PATH"==o.resultType.toUpperCase()?o.asPath(e):t),!!e},trace:function(e,t,r){if(""!==e){var s=e.split(";"),n=s.shift();if(s=s.join(";"),t&&t.hasOwnProperty(n))o.trace(s,t[n],r+";"+n);else if("*"===n)o.walk(n,s,t,r,function(e,t,r,s,n){o.trace(e+";"+r,s,n)});else if(".."===n)o.trace(s,t,r),o.walk(n,s,t,r,function(e,t,r,s,n){"object"==typeof s[e]&&o.trace("..;"+r,s[e],n+";"+e)});else if(/^\(.*?\)$/.test(n))o.trace(o.eval(n,t,r.substr(r.lastIndexOf(";")+1))+";"+s,t,r);else if(/^\?\(.*?\)$/.test(n))o.walk(n,s,t,r,function(e,t,r,s,n){o.eval(t.replace(/^\?\((.*?)\)$/,"$1"),s instanceof Array?s[e]:s,e)&&o.trace(e+";"+r,s,n)});else if(/^(-?[0-9]*):(-?[0-9]*):?([0-9]*)$/.test(n))o.slice(n,s,t,r);else if(/,/.test(n))for(var a=n.split(/'?,'?/),i=0,c=a.length;c>i;i++)o.trace(a[i]+";"+s,t,r)}else o.store(r,t)},walk:function(e,t,r,s,o){if(r instanceof Array)for(var n=0,a=r.length;a>n;n++)n in r&&o(n,e,t,r,s);else if("object"==typeof r)for(var i in r)r.hasOwnProperty(i)&&o(i,e,t,r,s)},slice:function(e,t,r,s){if(r instanceof Array){var n=r.length,a=0,i=n,c=1;e.replace(/^(-?[0-9]*):(-?[0-9]*):?(-?[0-9]*)$/g,function(e,t,r,s){a=parseInt(t||a),i=parseInt(r||i),c=parseInt(s||c)}),a=0>a?Math.max(0,a+n):Math.min(n,a),i=0>i?Math.max(0,i+n):Math.min(n,i);for(var l=a;i>l;l+=c)o.trace(l+";"+t,r,s)}},eval:function(e,t,r){try{var o=JSON.stringify({query:e,obj:t,index:r});if(s[o]=s[o]||{},!s[o].functionToInvoke){var a=function(e,t,r,n){if(!s[o].innerFunctionToInvoke){var a='return x.replace(/(^|[^\\\\])@/g, "$1_v").replace(/\\@/g, "@")';s[o].innerFunctionToInvoke=new Function(["x","_v","_vname","$"],a)}e=s[o].innerFunctionToInvoke.apply(this,[e,t,r,n]);var i="return "+e,c=new Function(["x","_v","_vname","$"],i),l=c.apply(this,[e,t,r,n]);return l}.bind(this);s[o]={functionToInvoke:a}}var i=s[o].functionToInvoke(e,t,r,n);return n&&t&&i}catch(c){throw new SyntaxError("jsonPath: "+c.message+": "+e.replace(/(^|[^\\])@/g,"$1_v").replace(/\\@/g,"@"))}}},n=e;return t&&e&&("VALUE"==o.resultType.toUpperCase()||"PATH"==o.resultType.toUpperCase())?(o.trace(o.normalize(t).replace(/^\$;?/,""),e,"$"),o.result.length?o.result:!1):void 0}var s=function(){return function(e,t,s){return this.cache=this.cache||{},r(t,s,e,this.cache)}}(),o=function(e){"use strict";function t(){if("undefined"==typeof s)throw new Error("JSONPath is required: ()");return s}function r(t,s){for(var o in s)if("object"!=typeof t[o])t[o]=t[o]===e?s[o]:t[o];else{if(m.call(t[o])==c){delete t[o];continue}t[o]=r(t[o],s[o])}return t}function o(e){return JSON.parse(JSON.stringify(e))}function n(e,t,r){n.setOptions(r,t);var s=d(n.getState(t),e||{});n.map(t,s)}function a(t,r,s){var o=JSON.stringify({proc:r,parms:s});if(v[o]=v[o]={},!v[o].fun)try{v[o].fun=Function(r.code)}catch(n){return new Error("code error: "+n,"praetor.js:createFunctionExec",265)}s=s||{};for(var a in r.parms)s[a]=s[a]===e?r.parms[a]:s[a];var i={results:t,params:s},c=v[o].fun.apply(i);return c?c:i.results}var i="[object Object]",c="[object Null]",l="[object Array]",u="[object String]",m={}.toString,d=function(e,t){for(var r in t)if("object"!=typeof e[r])e[r]=t[r];else if("object"==typeof t[r]){if(m.call(t[r])==c){delete e[r];continue}e[r]=d(e[r],t[r])}return e},p="rootid",f={jsonPathOptions:{}},h={},g={};n.model=function(){return{stores:{},queries:{},procs:{}}},n.setOptions=function(e,t){h=e,n.settings(e,t)},n.getOptions=function(){return h},n.settings=function(e){return g=d(f,e)},n.map=function(e,t){return this.state=this.state||{},e?(this.state[e]=t||this.state[e]||n.model(),this.state[e]):(this.state[p]=t||this.state[p]||n.model(),this.state[p])},n.setState=function(e,t){var s=r(e||{},n.model());n.map(t,s)},n.getState=function(e){return o(n.map(e))},n.setDataStore=function(e,t,r){n.map(r).stores[e]=t},n.getDataStore=function(e,t){return n.map(t).stores[e]},n.removeDataStore=function(e,t){delete n.map(t).stores[e]},n.emptyDataStore=function(e,t){n.map(t).stores[e]={}},n.setJsonQuery=function(e,t,r,s){n.map(s).queries[e]={query:t,store:r}},n.getJsonQuery=function(e,t){return n.map(t).queries[e]},n.getJsonQueryResult=function(e,r,s){var o=n.getJsonQuery(e,s),a=n.getDataStore(o.store,s);for(var i in r)o.query=o.query.split(i).join(r[i]);var c=t()(n.settings().jsonPathOptions,a,o.query);return c},n.setStoredProc=function(e,t,r,s,o){n.map(o).procs[e]={queries:m.call(t)==l?t:t.split(","),code:r,parms:s}},n.getStoredProc=function(e,t){return n.map(t).procs[e]},n.getStoredProcResult=function(e,t,r){var s=n.getStoredProc(e,r),o=[];return o=s.queries.map(function(e){var s={};return s[e]=n.getJsonQueryResult(e,t,r),s}),a(o,s,t)},n.proc=function(e,r,s,o,c,d){if(1==arguments.length&&m.call(e)==i)return n.getStoredProcResult(e.name,e.parms,e.id);if(e&&!n.getStoredProc(e,d)){var p={};return p[e]=n.setStoredProc(e,s,o,c,d),p}m.call(r)==u&&(r=n.getDataStore(r,d)),m.call(s)!=l&&(s=s.split(","));var f=s.map(function(e){if(n.getJsonQuery(e,d))return n.getJsonQueryResult(e,c,d);for(var s in c)e=e.split(s).join(c[s]);return t()(n.settings().jsonPathOptions,r,e)}),h={parms:c,code:o};return a(f,h,c)};var v={};return n}();"undefined"!=typeof t&&null!==t&&t.exports?t.exports=o:"function"==typeof define&&define.amd&&define(function(){return o})},{}],"/Users/mglazer/Documents/code/praetor.js/src/data/books.json":[function(e,t){t.exports={store:{book:[{category:"reference",author:"Nigel Rees",title:"Sayings of the Century",price:8.95},{category:"fiction",author:"Evelyn Waugh",title:"Sword of Honour",price:12.99},{category:"fiction",author:"Herman Melville",title:"Moby Dick",isbn:"0-553-21311-3",price:8.99},{category:"fiction",author:"J. R. R. Tolkien",title:"The Lord of the Rings",isbn:"0-395-19395-8",price:22.99}],bicycle:{color:"red",price:19.95}}}},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/autocompleter.js":[function(e,t){m=e("mithril");var r=function(){var e={};return e.vm={term:m.prop(""),field:"name",search:function(t){e.vm.term(t.toLowerCase())},filter:function(t){return e.vm.term()&&t[e.vm.field].toLowerCase().indexOf(e.vm.term())>-1}},e.view=function(t){return[m("div",[m("input",{placeholder:t.placeholder,oninput:m.withAttr("value",e.vm.search)})]),t.data().filter(e.vm.filter).map(function(e){return m("div",{onclick:t.binds.bind(this,e)},e[t.field])})]},e};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/linknav.js":[function(e,t){m=e("mithril"),mapActions=function(e){var t=(e||{}).selectedIndex;return linkMap=(e||{}).linkMap,style=(e||{}).style,"select"==style?m("select.silver",{onchange:function(){t(this.selectedIndex),m.route(linkMap[this.selectedIndex].link)}},[linkMap.map(function(e,r){return m("option",{selected:t()==r?!0:!1,config:m.route,value:r,innerHTML:e.text})})]):[m("ol",linkMap.map(function(e,t){return m("li",{key:t,config:m.route},m("a.action",{onclick:function(e){ctrl.type=e,ctrl.id(t)}.bind(this,e.type)},e.text))}))]},t.exports=mapActions},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/parms.js":[function(e,t){function r(e,t){return m(".parms.row",[m("div.name",m("input[placeholder='Name']",{onchange:m.withAttr("value",e()[t].name),value:e()[t].name()})),m("div.value",m("input[placeholder='Value']",{onchange:m.withAttr("value",e()[t].value),value:e()[t].value()})),m("button",{onclick:function(t){s.model.remove(e,t)}.bind(null,t)},"-")])}m=e("mithril");var s={};s.model={remove:function(e,t){e().splice(t,1)},listToParms:function(e){var t={};return e().forEach(function(e){""!=e.name()?t[e.name()]=e.value():null}),t},parmsToList:function(e,t){for(var r in e())t().push({name:m.prop(r),value:m.prop(e()[r])})},addOne:function(e){e().push({name:m.prop(""),value:m.prop("")})}},s.controller=function(e){this.parms=e.parms,this.list=m.prop([]),this.show=e.show||0,s.model.parmsToList(this.parms,this.list),0==this.list().length?s.model.addOne(this.list):null},s.view=function(e){return m(".parms",{onchange:function(){e.parms(s.model.listToParms(e.list))}},"Parms",m("button",{onclick:function(){s.model.addOne(e.list)}},"+"),e.show?m("button",{onclick:function(){var t=JSON.stringify(s.model.listToParms(e.list));console.log(t)}},"show"):"",e.list().map(function(t,s){return r(e.list,s)}))},t.exports=s},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js":[function(e,t){m=e("mithril");var r=function(){var e={};return e.model={elementType:"button",className:".messages"},e.controller=function(t){this.elementType=t.elementType?t.elementType:e.model.elementType,this.className=t.className?t.className:e.model.className,this.message=t.message,this.pass=t.pass,this.fail=t.fail},e.view=function(e){var t=e.pass()?e.message.pass:e.fail()?e.message.fail:"",r=e.pass()?"success":"error";return t?m(e.elementType+e.className,{"class":r},t):m("")},e};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/select.js":[function(e,t){m=e("mithril");var r=function(e,t){return m("label.select",m("select",{onchange:m.withAttr("value",t),value:t()},[e.map(function(e,t){return m("option",{value:0==t?"":e,innerHTML:e})})]))};t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/state-fun.js":[function(e,t){t.exports=function(){var e={};return e.controller=function(){this.state=p.getState()},e.view=function(e){return m(".state",Object.keys(e.state).map(function(t){var r=JSON.stringify(e.state[t]);return m("li",{title:r},t,m("textarea.json",r))}))},e}},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js":[function(e,t){m=e("mithril"),utils=e("../utils");var r={controller:function(e,t){this.tabs=e.tabs,this.changeTab=e.changeTab,this.mod=r.choose(e.key,e.tabs,t)},view:function(e,t){return m(".tabbed",m(".tabs",[r.tabs({tabs:e.tabs,selectedItem:t.key,onchange:e.changeTab})]),m("section",e.mod))}};r.tabs=function(e){return m("ul",e.tabs.map(function(t){return m("li",[r.tab(e,t.name)])}))},r.tab=function(e,t){return m("a",{"class":e.selectedItem==t?"selected":"",onclick:e.onchange.bind(this,t)},t)},r.choose=function(e,t,r){var s;t.forEach(function(t,o){return t.name==e&&(void 0===r.key&&(r.key=o),s=t.content)});var o=utils.isFunction(s)?s():s;return m.module(o,r)},t.exports=r},{"../utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/main.js":[function(e,t){t.exports={persist:e("./persistence"),utils:e("./utils"),dash:e("./modules/dashboard/app"),store:e("./modules/store/app"),query:e("./modules/query/app"),proc:e("./modules/proc/app"),home:e("./modules/welcome/app"),demo:e("./modules/demo/app")}},{"./modules/dashboard/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/dashboard/app.js","./modules/demo/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/app.js","./modules/proc/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/proc/app.js","./modules/query/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/app.js","./modules/store/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/app.js","./modules/welcome/app":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/welcome/app.js","./persistence":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js","./utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/dashboard/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),utils=e("../../utils.js"),autocompleter=e("../../components/autocompleter");
var r=function(){var e={},t='$..data.movies[?(@.genres.indexOf("PARM")>-1)]';e.listEven=function(){return utils.m.requestWithFeedback({method:"GET",url:"./data/movies.json"}).then(function(e){var r=p.proc(null,e,[t],null,{PARM:"Drama"});return r[0]})};var r={data:{},controller:function(){this.onunload=function(){document.getElementsByClassName("content")[0].style.backgroundColor="#ffffff"}.bind(this),this.showHide=function(){return!!(this.toggle=!this.toggle||!1)}.bind(this),this.error=m.prop(""),this.selectedProject=m.prop(),this.projectAC=new autocompleter,this.projectAC.vm.field="title",this.projects=e.listEven().then(function(e){return e},this.error)},view:function(e){return m(".card",{config:function(){document.getElementsByClassName("content")[0].style.backgroundColor="#f1f1f3"}},[m("span.card-color",m("h1.cards.card-color-title","New Movies")),m(".card-content",[m("p.cards","Search newest: ",e.projectAC.view({field:"title",data:e.projects,binds:e.selectedProject,placeholder:"Filter by Genre"})),m("h4.cards",{onclick:e.showHide},"See run time code",e.toggle?m("textarea.json",t):"")])])}};return r};t.exports=r},{"../../components/autocompleter":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/autocompleter.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js","../../utils.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/app.js":[function(e,t){m=e("mithril"),tabbed=e("../../components/tabs"),stateFun=e("../../components/state-fun"),utils=e("../../utils"),books=e("../../../data/books");var r=e("../../modules/demo/list"),s=e("../../modules/demo/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:s},{name:"results",content:r},{name:"state",content:stateFun}]},controller:function(t){this.data=e.data,this.list=m.prop((t.state().demoresults||[]).list),this.code=m.prop((t.state().demoresults||{}).code),this.state=m.prop({}),this.data.selectedItem=t.sub||e.data.selectedItem,this.changeTab=function(e){this.data.selectedItem=e,t.state({demoresults:{list:this.list(),code:this.code()}}),m.route("/"+t.top+"/"+e)}.bind(this)},view:function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{state:e.state,list:e.list,code:e.code,actions:e.actions,changeTab:e.changeTab}))}};return e};t.exports=o},{"../../../data/books":"/Users/mglazer/Documents/code/praetor.js/src/data/books.json","../../components/state-fun":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/state-fun.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/demo/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/form.js","../../modules/demo/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/list.js","../../utils":"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/form.js":[function(e,t){var r=function(){var e={};e.booksString=JSON.stringify(books),e.books=JSON.parse(e.booksString);var t={name:"demo-form"};return t.controller=function(r){this.model=r.state()[t.name]||{store:m.prop(""),queries:m.prop(""),code:m.prop("")},r.state({"demo-form":this.model}),this.results=m.prop(""),this.pass=m.prop(""),this.fail=m.prop(""),this.prefill=function(){this.model.store(e.booksString),this.model.queries("$..title"),this.model.code("this.results[0].reverse()")}.bind(this),this.save=function(){this.model.store()&&this.model.queries()&&this.model.code()?(this.results(p.proc(null,JSON.parse(this.model.store()),this.model.queries().split(","),this.model.code())),this.pass(!0),r.code("p.proc(null,"+this.model.store()+",'"+this.model.queries().split(",")+"', '"+this.model.code()+"')"),r.list(this.results()),r.changeTab("results")):this.fail(!0)}.bind(this)},t.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Run anon procedure - p.proc(null,JSONData,JSONPathQueries,JSCode)",[m("button.warning",{onclick:e.prefill},"pre-fill sample"),m('textarea[placeholder="JSON data"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m('input[placeholder="JSONPath queries (comma separated)"]',{onchange:m.withAttr("value",e.model.queries),value:e.model.queries()}),m('textarea[placeholder="JS Code Procedure block (this.results array)"]',{onchange:m.withAttr("value",e.model.code),value:e.model.code()}),m("button",{onclick:e.save},"Run")]])},t};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/demo/list.js":[function(e,t){var r=function(){var e={};return e.controller=function(){this.setArea=function(e){utils.resizeTextarea(e.id)}},e.view=function(e,t){return m(".results",[m("textarea#list",{config:e.setArea},JSON.stringify(t.list())),m("textarea#code",{config:e.setArea},t.code())])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/proc/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs");var r=e("../../modules/proc/list"),s=e("../../modules/proc/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:s},{name:"list",content:r}]},controller:function(t){this.data=e.data,this.actions=persist.model("procs"),this.list=this.actions.getList(),this.storesList=persist.model("stores").getList(),p({procs:this.list}),this.data.selectedItem=t.sub||e.data.selectedItem,this.changeTab=function(e){this.data.selectedItem=e,m.route("/"+t.top+"/"+e)}.bind(this)},view:function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,mode:"add",storesList:e.storesList,actions:e.actions}))}};return e};t.exports=o},{"../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/proc/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/proc/form.js","../../modules/proc/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/proc/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/proc/form.js":[function(e,t){function r(e){return{onchange:function(t){e[t.target.id]?e[t.target.id](t.target.value):""}}}var s=e("../../components/parms"),o=e("../../components/select");form=function(){var e={};return e.data={getData:function(e){return{name:m.prop(e.name||""),store:m.prop(e.store||""),query:m.prop(e.queries||""),code:m.prop(e.code||""),parms:m.prop(e.parms||"")}}},e.model={},e.model.storeList={"default":"select defined store"},e.controller=function(t){this.mode=t.mode,this.actions=t.actions,this.stores=t.storesList,data={},"edit"==this.mode&&t.name&&(data=p.getStoredProc(t.name),data.name=t.name),this.model=e.data.getData(data),this.storesList=Object.keys(this.stores),this.storesList.unshift(e.model.storeList.default),this.list=this.actions.getList(),p({procs:this.list}),this.remove=function(){var e={procs:{}};e.procs[this.model.name()]=null,p(e),delete this.list[this.model.name()],this.actions.saveList(this.list)}.bind(this),this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.code()&&this.model.query()?(this.list[this.model.name()]={queries:"string"==typeof this.model.query()?this.model.query().split(","):this.model.query(),code:this.model.code(),parms:this.model.parms()},this.actions.saveList(this.list),p({procs:this.list}),p.proc(this.model.name(),this.model.store(),this.list[this.model.name()].queries,this.model.code(),this.model.parms())):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",r(e.model),m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),e.mode.toUpperCase()+" PROC - p.proc(procName|null,StoreName|data|null,jsonPathQueryNames|query(s),code,parms)",[m("input#name[placeholder='Proc Name']",{value:e.model.name()}),o(e.storesList,e.model.store),m("input#query[placeholder='Queries']",{value:e.model.query()}),m("textarea#code[placeholder='JS Code']",{value:e.model.code()}),m.module(s,{parms:e.model.parms}),m("button",{onclick:e.save},"Save"),"edit"==e.mode?m("button",{onclick:e.remove},"Remove"):""])},e},t.exports=form},{"../../components/parms":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/parms.js","../../components/select":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/select.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/proc/list.js":[function(e,t){var r=function(){var e={name:"procs"};return e.controller=function(){this[e.name]=p.getState()[e.name],this.title=e.name,this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(t,r){return m("ul."+e.name+"-list",{},m("h3",t.title),Object.keys(r.list).map(function(e){var s={};s[e]=r.list[e];var o=JSON.stringify(s);return m("li",{title:o,onclick:t.showHide.bind(this,e)},e,t.showJson==e?m("textarea.json",o):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs");var r=e("../../modules/query/list"),s=e("../../modules/query/form"),o=function(){var e={data:{selectedItem:"create",tabs:[{name:"create",content:s},{name:"list",content:r}]},controller:function(t){this.data=e.data,this.actions=persist.model("queries"),this.list=this.actions.getList(),this.storesList=persist.model("stores").getList(),p({queries:this.list}),this.data.selectedItem=t.sub||e.data.selectedItem,this.changeTab=function(e){this.data.selectedItem=e,m.route("/"+t.top+"/"+e)}.bind(this)},view:function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,storeList:e.storesList,actions:e.actions}))}};return e};t.exports=o},{"../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/query/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/form.js","../../modules/query/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/form.js":[function(e,t){var r=e("../../components/select"),s=function(){var e={};return e.model={},e.model.storeList={"default":"select defined store"},e.controller=function(t){this.model={name:m.prop(""),query:m.prop(""),store:m.prop("")},this.actions=t.actions,this.list=t.list,this.stores=t.storeList,this.storesList=Object.keys(this.stores),this.storesList.unshift(e.model.storeList.default),this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.store()&&this.model.query()?(this.list[this.model.name()]={query:this.model.query(),store:this.model.store()},this.actions.saveList(this.list),p.setJsonQuery(this.model.name(),this.model.query(),this.model.store())):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Add query - p.setJsonQuery(queryName, JSONPathQuery, JSONDataStoreName) - (JSONPath syntax)",[m('input[placeholder="query name"]',{onchange:m.withAttr("value",e.model.name),value:e.model.name()}),m('textarea[placeholder="JSONPath Query"]',{onchange:m.withAttr("value",e.model.query),value:e.model.query()}),r(e.storesList,e.model.store),m('input[placeholder="JSON store name"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m("button",{onclick:e.save},"Add")]])},e};t.exports=s},{"../../components/select":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/select.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/query/list.js":[function(e,t){var r=function(){var e={name:"queries"};return e.controller=function(){this[e.name]=p.getState()[e.name],this.title=e.name,this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(t,r){return m("ul."+e.name+"-list",{},m("h3",t.title),Object.keys(r.list).map(function(e){var s={};s[e]=r.list[e];var o=JSON.stringify(s);return m("li",{title:o,onclick:t.showHide.bind(this,e)},e,t.showJson==e?m("textarea.json",o):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/app.js":[function(e,t){m=e("mithril"),p=e("praetor"),persist=e("../../persistence.js"),passFail=e("../../components/pass-fail"),tabbed=e("../../components/tabs"),books=e("../../../data/books");var r=e("../../modules/store/list"),s=e("../../modules/store/form"),o=function(){var e={},t={selectedItem:"create",tabs:[{name:"create",content:s},{name:"list",content:r}]};return e.controller=function(e){this.data=t,this.actions=persist.model("stores"),this.list=this.actions.getList(),p({stores:this.list}),this.data.selectedItem=e.sub||t.selectedItem,this.changeTab=function(t){this.data.selectedItem=t,m.route("/"+e.top+"/"+t)}.bind(this)},e.view=function(e){var t={tabs:e.data.tabs,key:e.data.selectedItem,changeTab:e.changeTab};return m("div",{},m.module(tabbed,t,{list:e.list,actions:e.actions}))},e};t.exports=o},{"../../../data/books":"/Users/mglazer/Documents/code/praetor.js/src/data/books.json","../../components/pass-fail":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/pass-fail.js","../../components/tabs":"/Users/mglazer/Documents/code/praetor.js/src/scripts/components/tabs.js","../../modules/store/form":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/form.js","../../modules/store/list":"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/list.js","../../persistence.js":"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js",mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/form.js":[function(e,t){var r=function(){var e={};return e.controller=function(e){this.model={name:m.prop(""),store:m.prop("")},this.actions=e.actions,this.list=e.list,this.pass=m.prop(""),this.fail=m.prop(""),this.save=function(){this.model.name()&&this.model.store()?(this.list[this.model.name()]=this.model.store(),this.actions.saveList(this.list),p.setDataStore(this.model.name(),JSON.parse(this.model.store()))):this.fail(!0)}.bind(this)},e.view=function(e){return m(".form",[m.module(passFail(),{pass:e.pass,fail:e.fail,message:{pass:"yay!",fail:"boo!"}}),"Add store - p.setDataStore(storeName, JSONData)",[m('input[placeholder="store name"]',{onchange:m.withAttr("value",e.model.name),value:e.model.name()}),m('textarea[placeholder="JSON data"]',{onchange:m.withAttr("value",e.model.store),value:e.model.store()}),m("button",{onclick:e.save},"Add")]])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/store/list.js":[function(e,t){var r=function(){var e={};return e.controller=function(){this.stores=p.getState().stores,this.title="Stores",this.showJson=!1,this.showHide=function(e){this.showJson=this.showJson==e?0:e}.bind(this)},e.view=function(e,t){return m("ul.store-list",{},m("h3",e.title),Object.keys(t.list).map(function(r){var s=t.list[r];return m("li",{title:s,onclick:e.showHide.bind(this,r)},r,e.showJson==r?m("textarea.json",s):"")}))},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/modules/welcome/app.js":[function(e,t){var r=function(){var e={};return e.controller=function(){},e.view=function(){return m(".content",[m(".panel","Welcome to the PraetorJS administration editor demo page!",[m("p","We will walk through some simple examples to demonstrate the way you can create and recall procedures"),m("p","Check out the tools in the menu to the left."),m('a[href="http://goessner.net/articles/JsonPath/"]',"JSONPath reference to create queries."),m(".row",{style:"padding-top:20px"},[m(".step",m("h1","1. Define"),m("code","p.proc (\n'getTopDramaMovies',\n'movies',\n'byDrama'\n)")),m(".step",m("h1","2. Inflate"),m("code","p (\n{stores:{movies:data},\nqueries:{\n'byDrama':{store:'movies',\nquery:'$..movies[?(@.genres.indexOf(PARM)>-1)]'}}}\n)")),m(".step",m("h1","3. Run"),m("code","p.proc (\n{name:'getTopDramaMovies', parms:{PARM:'Drama'}}\n)[0].byDrama.length"))])])])},e};t.exports=r},{}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/persistence.js":[function(e,t){m=e("mithril"),p=e("praetor");var r={};r.init=function(){var e=["stores","queries","procs"],t={};e.forEach(function(e){if(t[e]=localStorage[e]?JSON.parse(localStorage[e]):{},"stores"==e)for(k in t[e])t[e][k]=JSON.parse(t[e][k])}),console.log("state set")},r.model=function(e){return{saveList:function(t){localStorage[e]=JSON.stringify(t)},getList:function(){return localStorage[e]?JSON.parse(localStorage[e]):{}}}},t.exports=r},{mithril:"/Users/mglazer/Documents/code/praetor.js/node_modules/mithril/mithril.js",praetor:"/Users/mglazer/Documents/code/praetor.js/node_modules/praetor/praetor.min.js"}],"/Users/mglazer/Documents/code/praetor.js/src/scripts/utils.js":[function(e,t){var r={};r.m={},r.m.layout=function(e,t){return m(".container",[m(".nav",e),m(".content",t)])},r.m.mixinLayout=function(e,t,r){return function(){return e(t(),r())}},r.m.binds=function(e){return{onchange:function(t){e[t.target.id](t.target.value)}}},r.m.viewModelMap=function(e){var t={};return function(r){if(!t[r]){t[r]={};for(var s in e)t[r][s]=m.prop(e[s]())}return t[r]}},r.m.requestWithFeedback=function(e){var t=JSON.stringify(e);if(!r.m.requestWithFeedback.cache[t]){for(var s,o=document.querySelectorAll(".loader"),n=0;s=o[n];n++)s.style.display="block";var a=function(e){if(delete r.m.requestWithFeedback.cache[t],0==Object.keys(r.m.requestWithFeedback.cache).length)for(var s,n=0;s=o[n];n++)s.style.display="none";return e};r.m.requestWithFeedback.cache[t]=m.request(e).then(a,function(e){throw a(e),e})}return r.m.requestWithFeedback.cache[t]},r.m.requestWithFeedback.cache={},r.types={OBJECT:"[object Object]",ARRAY:"[object Array]",STRING:"[object String]",FUNCTION:"function"},r.type={}.toString,r.isFunction=function(e){return typeof e===r.types.FUNCTION?!0:!1},r.jsonPathValue=function(e){function t(e,t){return e[t]}return string.split(sep||".").reduce(t,e)},r.resizeTextarea=function(e){var t;t=window.attachEvent?function(e,t,r){e.attachEvent("on"+t,r)}:function(e,t,r){e.addEventListener(t,r,!1)};!function(e){function r(){o.style.height="auto",o.style.height=o.scrollHeight+"px"}function s(){window.setTimeout(r,0)}var o=document.getElementById(e);t(o,"change",r),t(o,"cut",s),t(o,"paste",s),t(o,"drop",s),t(o,"keydown",s),r()}(e)},t.exports=r},{}]},{},["./src/scripts/app.js"]);